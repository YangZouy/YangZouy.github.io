<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>react学习 | 邹阳 の 博客</title><meta name="author" content="邹阳,3075879316@qq.com"><meta name="copyright" content="邹阳"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="是对react学习路程的笔记总结">
<meta property="og:type" content="article">
<meta property="og:title" content="react学习">
<meta property="og:url" content="http://zyydgrbk.top/2023/08/16/react-xue-xi/index.html">
<meta property="og:site_name" content="邹阳 の 博客">
<meta property="og:description" content="是对react学习路程的笔记总结">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/01d59958d20fd2a801219c77f1d73b.webp">
<meta property="article:published_time" content="2023-08-16T15:01:45.000Z">
<meta property="article:modified_time" content="2023-12-03T08:15:52.155Z">
<meta property="article:author" content="邹阳">
<meta property="article:tag" content="前端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/01d59958d20fd2a801219c77f1d73b.webp"><link rel="shortcut icon" href="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/nobackground.png"><link rel="canonical" href="http://zyydgrbk.top/2023/08/16/react-xue-xi/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'react学习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-12-03 16:15:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/custom.css"><meta name="generator" content="Hexo 6.3.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/nobackground.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">70</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/01d59958d20fd2a801219c77f1d73b.webp')"><nav id="nav"><span id="blog-info"><a href="/" title="邹阳 の 博客"><img class="site-icon" src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/nobackground.png"/><span class="site-name">邹阳 の 博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">react学习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-16T15:01:45.000Z" title="发表于 2023-08-16 23:01:45">2023-08-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-12-03T08:15:52.155Z" title="更新于 2023-12-03 16:15:52">2023-12-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="react学习"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="react学习路径"><a href="#react学习路径" class="headerlink" title="react学习路径"></a>react学习路径</h1><p>一份很好的前后端学习笔记：个人博客，react笔记是尚硅谷中的笔记 但不是很详细</p>
<p><a target="_blank" rel="noopener" href="https://bright-boy.gitee.io/technical-notes/#/react/React%E5%BA%94%E7%94%A8(%E5%9F%BA%E4%BA%8EReact%E8%84%9A%E6%89%8B%E6%9E%B6)">React应用(基于React脚手架) (gitee.io)</a></p>
<p>一份很全的react学习路径</p>
<p><a target="_blank" rel="noopener" href="https://github.com/linjunc/react-study">linjunc&#x2F;react-study: 🎉 Here are all the high-quality React articles, a React repository worth learning (github.com)</a></p>
<p>里面的笔记也都是尚硅谷里的，这里整理一下用作日常复习</p>
<h2 id="React-从入门到入土（一）–-基础知识以及-jsx-语法"><a href="#React-从入门到入土（一）–-基础知识以及-jsx-语法" class="headerlink" title="React 从入门到入土（一）– 基础知识以及 jsx 语法"></a>React 从入门到入土（一）– 基础知识以及 jsx 语法</h2><p>先附上<a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/">React官网</a> ，有很多问题都要通过查询官方文档来解决，要学会查文档~</p>
<h2 id="一、React-简介"><a href="#一、React-简介" class="headerlink" title="一、React 简介"></a>一、React 简介</h2><h3 id="1-关于-React"><a href="#1-关于-React" class="headerlink" title="1. 关于 React"></a>1. 关于 React</h3><p>整几个面试题来认识一下~~</p>
<blockquote>
<p>什么是 React ？</p>
</blockquote>
<p><strong>React</strong> 是一个用于构建用户界面的 JavaScript 库。</p>
<ul>
<li>是一个将数据渲染为 HTML 视图的开源 JS 库</li>
<li>它遵循基于组件的方法，有助于构建可重用的 UI 组件</li>
<li>它用于开发复杂的交互式的 web 和移动 UI</li>
</ul>
<blockquote>
<p>React 有什么特点？</p>
</blockquote>
<ol>
<li>使用虚拟 DOM 而不是真正的 DOM</li>
<li>它可以用服务器渲染</li>
<li>它遵循单向数据流或数据绑定</li>
<li>高效</li>
<li>声明式编码，组件化编码</li>
</ol>
<blockquote>
<p>React 的一些主要优点？</p>
</blockquote>
<ol>
<li>它提高了应用的性能</li>
<li>可以方便在客户端和服务器端使用</li>
<li>由于使用 JSX，代码的可读性更好</li>
<li>使用React，编写 UI 测试用例变得非常容易</li>
</ol>
<h3 id="2-Hello-React"><a href="#2-Hello-React" class="headerlink" title="2. Hello React"></a>2. Hello React</h3><p>首先需要引入几个 react 包，我直接用的是老师下载好的</p>
<ul>
<li>React 核心库、操作 DOM 的 react 扩展库、将 jsx 转为 js 的 babel 库</li>
</ul>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react1.png" alt="react1"></p>
<pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">const</span> VDOM <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Hello<span class="token punctuation">,</span>React<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>VDOM<span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".test"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="3-虚拟-DOM-和真实-DOM-的两种创建方法"><a href="#3-虚拟-DOM-和真实-DOM-的两种创建方法" class="headerlink" title="3. 虚拟 DOM 和真实 DOM 的两种创建方法"></a>3. 虚拟 DOM 和真实 DOM 的两种创建方法</h3><h4 id="3-1-JS-创建虚拟-DOM"><a href="#3-1-JS-创建虚拟-DOM" class="headerlink" title="3.1 JS 创建虚拟 DOM"></a>3.1 JS 创建虚拟 DOM</h4><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//1.创建虚拟DOM,创建嵌套格式的dom</span>
<span class="token keyword">const</span> VDOM<span class="token operator">=</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>id<span class="token punctuation">:</span><span class="token string">'title'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span><span class="token string">'hello,React'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//2.渲染虚拟DOM到页面</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>VDOM<span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="3-2-Jsx-创建虚拟DOM"><a href="#3-2-Jsx-创建虚拟DOM" class="headerlink" title="3.2 Jsx 创建虚拟DOM"></a>3.2 Jsx 创建虚拟DOM</h4><pre class=" language-jsx"><code class="language-jsx"><span class="token comment" spellcheck="true">//1.创建虚拟DOM</span>
    <span class="token keyword">const</span> VDOM <span class="token operator">=</span> <span class="token punctuation">(</span>  <span class="token comment" spellcheck="true">/* 此处一定不要写引号，因为不是字符串 */</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>Hello<span class="token punctuation">,</span>React<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//2.渲染虚拟DOM到页面</span>
    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>VDOM<span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<blockquote>
<p>js 的写法并不是常用的，常用jsx来写，毕竟JSX更符合书写的习惯</p>
</blockquote>
<h2 id="二、jsx-语法"><a href="#二、jsx-语法" class="headerlink" title="二、jsx 语法"></a>二、jsx 语法</h2><ol>
<li><p>定义虚拟DOM，不能使用<code>“”</code></p>
</li>
<li><p>标签中混入JS表达式的时候使用<code>&#123;&#125;</code></p>
</li>
</ol>
<pre class=" language-jsx"><code class="language-jsx">id <span class="token operator">=</span> <span class="token entity" title="&#123;">&amp;#123;</span>myId<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token entity" title="&#125;">&amp;#125;</span>
</code></pre>
<ol start="3">
<li><p>样式的类名指定不能使用class，使用<code>className</code></p>
</li>
<li><p>内敛样式要使用<code>&#123;&#123;&#125;&#125;</code>包裹</p>
</li>
</ol>
<pre class=" language-jsx"><code class="language-jsx">style<span class="token operator">=</span><span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>color<span class="token punctuation">:</span><span class="token string">'skyblue'</span><span class="token punctuation">,</span>fontSize<span class="token punctuation">:</span><span class="token string">'24px'</span><span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span>
</code></pre>
<ol start="5">
<li><p>不能有多个根标签，只能有一个根标签</p>
</li>
<li><p>标签必须闭合，自闭合也行</p>
</li>
<li><p>如果小写字母开头，就将标签转化为 html 同名元素，如果 html 中无该标签对应的元素，就报错；如果是大写字母开头，react 就去渲染对应的组件，如果没有就报错</p>
</li>
</ol>
<blockquote>
<p>记几个</p>
</blockquote>
<h4 id="1-注释"><a href="#1-注释" class="headerlink" title="1. 注释"></a>1. 注释</h4><p>写在花括号里</p>
<pre class=" language-jsx"><code class="language-jsx">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>小丞<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token entity" title="&#123;">&amp;#123;</span><span class="token comment" spellcheck="true">/*注释...*/</span><span class="token entity" title="&#125;">&amp;#125;</span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">,</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="2-数组"><a href="#2-数组" class="headerlink" title="2. 数组"></a>2. 数组</h4><p>JSX 允许在模板中插入数组，数组自动展开全部成员</p>
<pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>小丞<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">,</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>同学<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity" title="&#123;">&amp;#123;</span>arr<span class="token entity" title="&#125;">&amp;#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="tip-JSX-小练习"><a href="#tip-JSX-小练习" class="headerlink" title="tip: JSX 小练习"></a>tip: JSX 小练习</h3><p>根据动态数据生成 <code>li</code></p>
<pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> VDOM <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
            <span class="token entity" title="&#123;">&amp;#123;</span>
                data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token entity" title="&#123;">&amp;#123;</span>
                    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span>&amp;#123;index&amp;#125;</span><span class="token punctuation">></span></span><span class="token entity" title="&#123;">&amp;#123;</span>item<span class="token entity" title="&#125;">&amp;#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                <span class="token entity" title="&#125;">&amp;#125;</span><span class="token punctuation">)</span>
            <span class="token entity" title="&#125;">&amp;#125;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>VDOM<span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="React-从入门到入土（二）–-面向组件编程"><a href="#React-从入门到入土（二）–-面向组件编程" class="headerlink" title="React 从入门到入土（二）– 面向组件编程"></a>React 从入门到入土（二）– 面向组件编程</h2><h2 id="一、组件的使用"><a href="#一、组件的使用" class="headerlink" title="一、组件的使用"></a>一、组件的使用</h2><p>当应用是以多组件的方式实现，这个应用就是一个组件化的应用</p>
<blockquote>
<p><strong>注意：</strong> </p>
<ol>
<li><p>组件名必须是首字母大写</p>
</li>
<li><p>虚拟DOM元素只能有一个根元素</p>
</li>
<li><p>虚拟DOM元素必须有结束标签 <code>&lt; /&gt;</code></p>
</li>
</ol>
</blockquote>
<p><strong>渲染类组件标签的基本流程</strong></p>
<ol>
<li><p>React 内部会创建组件实例对象</p>
</li>
<li><p>调用<code>render()</code>得到虚拟 DOM ,并解析为真实 DOM</p>
</li>
<li><p>插入到指定的页面元素内部</p>
</li>
</ol>
<h3 id="1-函数式组件"><a href="#1-函数式组件" class="headerlink" title="1. 函数式组件"></a>1. 函数式组件</h3><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//1.先创建函数，函数可以有参数，也可以没有，但是必须要有返回值 返回一个虚拟DOM</span>
<span class="token keyword">function</span> <span class="token function">Welcome</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>props<span class="token punctuation">.</span>name<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//2.进行渲染</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">Render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Welcom name <span class="token operator">=</span> <span class="token string">"ljc"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>上面的代码经历了以下几步</p>
<ol>
<li>我们调用 <code>ReactDOM.render()</code> 函数，并传入 <code>&lt;Welcome name=&quot;ljc&quot; /&gt;</code> 作为参数。</li>
<li>React 调用 <code>Welcome</code> 组件，并将 <code>&#123;name: &#39;ljc&#39;&#125;</code> 作为 props 传入。</li>
<li><code>Welcome</code> 组件将 <code>Hello, ljc</code> 元素作为返回值。</li>
<li>React DOM 将 DOM 高效地更新为 <code>Hello,ljc</code>。</li>
</ol>
<h3 id="2-类式组件"><a href="#2-类式组件" class="headerlink" title="2. 类式组件"></a>2. 类式组件</h3><p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/weather.gif" alt="weather"></p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    state <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isHot<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isHot<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1 onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeWeather<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>今天天气很<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isHot<span class="token operator">?</span><span class="token string">'炎热'</span><span class="token punctuation">:</span><span class="token string">'凉爽'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    changeWeather <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> isHot <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isHot
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isHot<span class="token punctuation">:</span><span class="token operator">!</span>isHot<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>MyComponent<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>这玩意底层不简单，<code>this</code>的指向真的需要好好学习</p>
<p><strong>在优化过程中遇到的问题</strong></p>
<ol>
<li>组件中的 render 方法中的 this 为组件实例对象</li>
<li>组件自定义方法中由于开启了严格模式，this 指向 <code>undefined</code> 如何解决<ol>
<li>通过 bind 改变 this 指向</li>
<li>推荐采用箭头函数，箭头函数的 <code>this</code> 指向</li>
</ol>
</li>
<li>state 数据不能直接修改或者更新</li>
</ol>
<h3 id="3-其他知识"><a href="#3-其他知识" class="headerlink" title="3. 其他知识"></a>3. 其他知识</h3><p>包含表单元素的组件分为非受控租价与受控组件</p>
<ul>
<li><strong>受控组件</strong>：表单组件的输入组件随着输入并将内容存储到状态中（随时更新）</li>
<li><strong>非受控组件</strong>：表单组件的输入组件的内容在有需求的时候才存储到状态中（即用即取）</li>
</ul>
<h2 id="二、组件实例三大属性"><a href="#二、组件实例三大属性" class="headerlink" title="二、组件实例三大属性"></a>二、组件实例三大属性</h2><h3 id="1-state"><a href="#1-state" class="headerlink" title="1. state"></a>1. state</h3><blockquote>
<p>React 把组件看成是一个状态机（State Machines）。通过与用户的交互，实现不同状态，然后渲染 UI，让用户界面和数据保持一致。</p>
<p>React 里，只需更新组件的 state，然后根据新的 state 重新渲染用户界面（不要操作 DOM）。</p>
</blockquote>
<p>简单的说就是组件的状态，也就是该组件所存储的数据</p>
<p><strong>类式组件中的使用</strong></p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720203721926.png" alt="image-20210720203721926"></p>
<p>使用的时候通过<code>this.state</code>调用<code>state</code>里的值</p>
<p>在类式组件中定义<code>state</code></p>
<ul>
<li>在构造器中初始化<code>state</code></li>
<li>在类中添加属性<code>state</code>来初始化</li>
</ul>
<p><strong>修改 state</strong></p>
<p>在<strong>类式组件</strong>的函数中，直接修改<code>state</code>值</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>weather <span class="token operator">=</span> <span class="token string">'凉爽'</span>
</code></pre>
<blockquote>
<p>页面的渲染靠的是<code>render</code>函数</p>
</blockquote>
<p>这时候会发现页面内容不会改变，原因是 React 中不建议 <code>state</code>不允许直接修改，而是通过类的原型对象上的方法 <code>setState()</code></p>
<p><strong>setState()</strong></p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>partialState<span class="token punctuation">,</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li><code>partialState</code>: 需要更新的状态的部分对象</li>
<li><code>callback</code>: 更新完状态后的回调函数</li>
</ul>
<p>有两种写法：写法1</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    weather<span class="token punctuation">:</span> <span class="token string">"凉爽"</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
</code></pre>
<p>写法2：</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// 传入一个函数，返回x需要修改成的对象，参数为当前的 state</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>state <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>count<span class="token punctuation">:</span> state<span class="token punctuation">.</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><code>setState</code>是一种合并操作，不是替换操作</p>
<hr>
<ul>
<li>在执行 <code>setState</code>操作后，React 会自动调用一次 <code>render()</code></li>
<li><code>render()</code> 的执行次数是 1+n (1 为初始化时的自动调用，n 为状态更新的次数)</li>
</ul>
<h3 id="2-props"><a href="#2-props" class="headerlink" title="2. props"></a>2. props</h3><p>与<code>state</code>不同，<code>state</code>是组件自身的状态，而<code>props</code>则是外部传入的数据</p>
<p><strong>类式组件中使用</strong></p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720211554914.png" alt="image-20210720211554914"></p>
<p>在使用的时候可以通过 <code>this.props</code>来获取值 类式组件的 <code>props</code>:</p>
<ol>
<li>通过在组件标签上传递值，在组件中就可以获取到所传递的值</li>
<li>在构造器里的<code>props</code>参数里可以获取到 <code>props</code></li>
<li>可以分别设置 <code>propTypes</code> 和 <code>defaultProps</code> 两个属性来分别操作 <code>props</code>的规范和默认值，两者都是直接添加在类式组件的<strong>原型对象</strong>上的（所以需要添加 <code>static</code>）</li>
<li>同时可以通过<code>...</code>运算符来简化</li>
</ol>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720212505232.png" alt="image-20210720212505232"></p>
<p><strong>函数式组件中的使用</strong></p>
<blockquote>
<p>函数在使用props的时候，是作为参数进行使用的(props)</p>
</blockquote>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720213304037.png" alt="image-20210720213304037"></p>
<p>函数组件的 <code>props</code>定义:</p>
<ol>
<li>在组件标签中传递 <code>props</code>的值</li>
<li>组件函数的参数为 <code>props</code></li>
<li>对 <code>props</code>的限制和默认值同样设置在原型对象上</li>
</ol>
<h3 id="3-refs"><a href="#3-refs" class="headerlink" title="3. refs"></a>3. refs</h3><p>Refs 提供了一种方式，允许我们访问 DOM 节点或在 <code>render</code> 方法中创建的 React 元素。</p>
<blockquote>
<p>在我们正常的操作节点时，需要采用DOM API 来查找元素，但是这样违背了 React 的理念，因此有了<code>refs</code></p>
</blockquote>
<p>有三种操作<code>refs</code>的方法，分别为：</p>
<ul>
<li>字符串形式</li>
<li>回调形式</li>
<li><code>createRef</code>形式</li>
</ul>
<p><strong>字符串形式</strong><code>refs</code></p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720215332387.png" alt="image-20210720215332387"></p>
<p>虽然这个方法废弃了，但是还能用，还很好用hhh~</p>
<p><strong>回调形式的</strong><code>refs</code></p>
<p>组件实例的<code>ref</code>属性传递一个回调函数<code>c =&gt; this.input1 = c </code>（箭头函数简写），这样会在实例的属性中存储对DOM节点的引用，使用时可通过<code>this.input1</code>来使用</p>
<p><strong>使用方法</strong></p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>c <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>input1 <span class="token operator">=</span> c <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span> placeholder<span class="token operator">=</span><span class="token string">"点击按钮提示数据"</span><span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p><strong>我的理解</strong></p>
<p><code>c</code>会接收到当前节点作为参数，<code>ref</code>的值为函数的返回值，也就是<code>this.input1 = c</code>，因此是给实例下的<code>input1</code>赋值</p>
<p><strong>createRef 形式</strong>（推荐写法）</p>
<p>React 给我们提供了一个相应的API，它会自动的将该 DOM 元素放入实例对象中</p>
<p>我们先给DOM元素添加ref属性</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span>&amp;#123;this.MyRef&amp;#125;</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>点击弹出<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span>&amp;#123;this.MyRef1&amp;#125;</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>点击弹出<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<p>通过API，创建React的容器，会将DOM元素赋值给实例对象的名称为容器的属性的<code>current</code>，好烦..</p>
<pre class=" language-js"><code class="language-js">MyRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MyRef1 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>注意：专人专用，好烦，一个节点创建一个容器</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//调用</span>
btnOnClick <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//创建之后，将自身节点，传入current中</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>MyRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>注意：我们不要过度的使用 ref，如果发生时间的元素刚好是需要操作的元素，就可以使用事件对象去替代。过度使用有什么问题我也不清楚，可能有 bug 吧</p>
<h3 id="4-事件处理"><a href="#4-事件处理" class="headerlink" title="4. 事件处理"></a>4. 事件处理</h3><ol>
<li><p>React 使用的是自定义事件，而不是原生的 DOM 事件</p>
</li>
<li><p>React 的事件是通过事件委托方式处理的（为了更加的高效）</p>
</li>
<li><p>可以通过事件的 <code>event.target</code>获取发生的 DOM 元素对象，可以尽量减少 <code>refs</code>的使用</p>
</li>
</ol>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720222147149.png" alt="image-20210720222147149"></p>
<h2 id="三、高阶函数"><a href="#三、高阶函数" class="headerlink" title="三、高阶函数"></a>三、高阶函数</h2><p>关于这部分的知识，之前的笔记有记过了，我真是太棒了</p>
<p>链接<a target="_blank" rel="noopener" href="https://linjc.blog.csdn.net/article/details/116765732">高阶函数</a>，关于AOP，偏函数，柯里化都有不错的记录，感觉还是不错的</p>
<h2 id="React-入门（三）-–-生命周期-LifeCycle"><a href="#React-入门（三）-–-生命周期-LifeCycle" class="headerlink" title="React 入门（三） – 生命周期 LifeCycle"></a>React 入门（三） – 生命周期 LifeCycle</h2><h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>在 React 中为我们提供了一些生命周期钩子函数，让我们能在 React 执行的重要阶段，在钩子函数中做一些事情。那么在 React 的生命周期中，有哪些钩子函数呢，我们来总结一下</p>
<h2 id="React-生命周期"><a href="#React-生命周期" class="headerlink" title="React 生命周期"></a>React 生命周期</h2><p>React 生命周期主要包括三个阶段：初始化阶段，更新阶段，销毁阶段</p>
<h3 id="初始化阶段"><a href="#初始化阶段" class="headerlink" title="初始化阶段"></a>初始化阶段</h3><h4 id="1-constructor-执行"><a href="#1-constructor-执行" class="headerlink" title="1. constructor 执行"></a>1. constructor 执行</h4><p><code>constructor</code> 在组件初始化的时候只会执行一次</p>
<p>通常它用于做这两件事</p>
<ol>
<li>初始化函数内部 <code>state</code></li>
<li>绑定函数</li>
</ol>
<pre class=" language-js"><code class="language-js"><span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'进入构造器'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> count<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>现在我们通常不会使用 <code>constructor</code> 属性，而是改用类加箭头函数的方法，来替代 <code>constructor</code> </p>
<p>例如，我们可以这样初始化 <code>state</code></p>
<pre class=" language-js"><code class="language-js">state <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    count<span class="token punctuation">:</span> <span class="token number">0</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="2-static-getDerivedStateFromProps-执行-（新钩子）"><a href="#2-static-getDerivedStateFromProps-执行-（新钩子）" class="headerlink" title="2. static getDerivedStateFromProps 执行 （新钩子）"></a>2. static getDerivedStateFromProps 执行 （新钩子）</h4><p>这个是 React 新版本中新增的2个钩子之一，据说很少用。</p>
<p><code>getDerivedStateFromProps</code> 在初始化和更新中都会被调用，并且在 <code>render</code> 方法之前调用，它返回一个对象用来更新 <code>state</code></p>
<p><code>getDerivedStateFromProps</code> 是类上直接绑定的静态（<code>static</code>）方法，它接收两个参数 <code>props</code> 和 <code>state</code></p>
<p><code>props</code> 是即将要替代 <code>state</code> 的值，而 <code>state</code> 是当前未替代前的值</p>
<blockquote>
<p>注意：<code>state</code> 的值在任何时候都取决于传入的 <code>props</code> ，不会再改变</p>
</blockquote>
<p>如下</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> props
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Count count<span class="token operator">=</span><span class="token string">"109"</span><span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><code>count</code> 的值不会改变，一直是 109</p>
<h4 id="2-componentWillMount-执行（即将废弃）"><a href="#2-componentWillMount-执行（即将废弃）" class="headerlink" title="2. componentWillMount 执行（即将废弃）"></a>2. componentWillMount 执行（即将废弃）</h4><blockquote>
<p>如果存在 <code>getDerivedStateFromProps</code> 和 <code>getSnapshotBeforeUpdate</code> 就不会执行生命周期<code>componentWillMount</code>。</p>
</blockquote>
<p>该方法只在挂载的时候调用一次，表示组件将要被挂载，并且在 <code>render</code> 方法之前调用。</p>
<p>这个方法在 React 18版本中将要被废弃，官方解释是在 React 异步机制下，如果滥用这个钩子可能会有 Bug</p>
<h4 id="3-render-执行"><a href="#3-render-执行" class="headerlink" title="3. render 执行"></a>3. render 执行</h4><p><code>render()</code> 方法是组件中必须实现的方法，用于渲染 DOM ，但是它不会真正的操作 DOM，它的作用是把需要的东西返回出去。</p>
<p>实现渲染 DOM 操作的是 <code>ReactDOM.render()</code></p>
<blockquote>
<p>注意：避免在 <code>render</code> 中使用 <code>setState</code> ，否则会死循环</p>
</blockquote>
<h4 id="4-componentDidMount-执行"><a href="#4-componentDidMount-执行" class="headerlink" title="4. componentDidMount 执行"></a>4. componentDidMount 执行</h4><p><code>componentDidMount</code> 的执行意味着初始化挂载操作已经基本完成，它主要用于组件挂载完成后做某些操作</p>
<p>这个挂载完成指的是：组件插入 DOM tree </p>
<h4 id="初始化阶段总结"><a href="#初始化阶段总结" class="headerlink" title="初始化阶段总结"></a>初始化阶段总结</h4><p>执行顺序 <code>constructor</code> -&gt; <code>getDerivedStateFromProps</code> 或者 <code>componentWillMount</code> -&gt; <code>render</code> -&gt; <code>componentDidMount</code></p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210821102153009.png" alt="image-20210821102153009"></p>
<h3 id="更新阶段"><a href="#更新阶段" class="headerlink" title="更新阶段"></a>更新阶段</h3><p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210821102622645.png" alt="image-20210821102622645"></p>
<p>这里记录新生命周期的流程</p>
<h4 id="1-getDerivedStateFromProps-执行"><a href="#1-getDerivedStateFromProps-执行" class="headerlink" title="1. getDerivedStateFromProps 执行"></a>1. getDerivedStateFromProps 执行</h4><p>执行生命周期<code>getDerivedStateFromProps</code>， 返回的值用于合并 <code>state</code>，生成新的<code>state</code>。</p>
<h4 id="2-shouldComponentUpdat-执行"><a href="#2-shouldComponentUpdat-执行" class="headerlink" title="2. shouldComponentUpdat 执行"></a>2. shouldComponentUpdat 执行</h4><p><code>shouldComponentUpdate()</code> 在组件更新之前调用，可以通过返回值来控制组件是否更新，允许更新返回 <code>true</code> ，反之不更新</p>
<h4 id="3-render-执行-1"><a href="#3-render-执行-1" class="headerlink" title="3. render 执行"></a>3. render 执行</h4><p>在控制是否更新的函数中，如果返回 <code>true</code> 才会执行 <code>render</code> ,得到最新的 <code>React element</code></p>
<h4 id="4-getSnapshotBeforeUpdate-执行"><a href="#4-getSnapshotBeforeUpdate-执行" class="headerlink" title="4. getSnapshotBeforeUpdate 执行"></a>4. getSnapshotBeforeUpdate 执行</h4><p>在最近一次的渲染输出之前被提交之前调用，也就是即将挂载时调用</p>
<p>相当于淘宝购物的快照，会保留下单前的商品内容，在 React 中就相当于是 即将更新前的状态</p>
<blockquote>
<p>它可以使组件在 DOM 真正更新之前捕获一些信息（例如滚动位置），此生命周期返回的任何值都会作为参数传递给 <code>componentDidUpdate()</code>。如不需要传递任何值，那么请返回 null</p>
</blockquote>
<h4 id="5-componentDidUpdate-执行"><a href="#5-componentDidUpdate-执行" class="headerlink" title="5. componentDidUpdate 执行"></a>5. componentDidUpdate 执行</h4><p>组件在更新完毕后会立即被调用，首次渲染不会调用</p>
<hr>
<p>到此更新阶段就结束了，在 React 旧版本中有两个与更新有关的钩子函数 <code>componentWillReceiveProps</code> 和 <code>componentWillUpdate</code> 都即将废弃</p>
<p><code>componentWillReceiveProps</code> 我不太懂</p>
<p><code>componentWillUpdate</code> 在 <code>render</code> 之前执行，表示组件将要更新</p>
<h3 id="销毁阶段"><a href="#销毁阶段" class="headerlink" title="销毁阶段"></a>销毁阶段</h3><h4 id="componentWillUnmount-执行"><a href="#componentWillUnmount-执行" class="headerlink" title="componentWillUnmount  执行"></a>componentWillUnmount  执行</h4><p>在组件即将被卸载或销毁时进行调用。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><strong>初始化</strong></p>
<ul>
<li>constructor()</li>
<li>static getDerivedStateFromProps()</li>
<li>render()</li>
<li>componentDidMount()</li>
</ul>
<p><strong>更新</strong></p>
<ul>
<li>static getDerivedStateFromProps()</li>
<li>shouldComponentUpdate()</li>
<li>render()</li>
<li>getSnapshotBeforeUpdate()</li>
<li>componentDidUpdate()</li>
</ul>
<p><strong>销毁</strong></p>
<ul>
<li>componentWillUnmount()</li>
</ul>
<hr>
<blockquote>
<p>初学 React ，对生命周期还没有深入的理解，只能大概知道在什么时候触发哪个钩子，希望各位大佬多多指教，有什么建议可以提一提 🙏</p>
</blockquote>
<h2 id="React入门学习（四）–-diffing-算法"><a href="#React入门学习（四）–-diffing-算法" class="headerlink" title="React入门学习（四）– diffing 算法"></a>React入门学习（四）– diffing 算法</h2><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>diff 算法是 React 提升渲染性能的一种优化算法，在 React 中有着很重要的地位，也不止于 React ，在 Vue 中也有 diff 算法，似乎没有差别。在最近的 React 学习中，学到了 diff 算法，感觉视频中的内容有点浅，对 diff 算法不够深入，因此想要深入的了解以下 diff 算法。于是在掘金，知乎，CSDN 等平台上，看了大量的博客，都非常地不错，可惜看不明白，wwww。所以这篇文章只是自己对于 diff 算法的一点理解，有什么问题或者错误的地方，大家<strong>一定要指出</strong>！</p>
<h2 id="什么是虚拟-DOM-？"><a href="#什么是虚拟-DOM-？" class="headerlink" title="什么是虚拟 DOM ？"></a>什么是虚拟 DOM ？</h2><p>在谈 diff 算法之前，我们需要先了解虚拟 DOM 。它是一种编程概念，在这个概念里，以一种虚拟的表现形式被保存在内存中。在 React 中，render 执行的结果得到的并不是真正的 DOM 节点，而是 JavaScript 对象</p>
<blockquote>
<p>虚拟 DOM 只保留了真实 DOM 节点的一些<strong>基本属性，和节点之间的层次关系</strong>，它相当于建立在 JavaScript 和 DOM 之间的一层“缓存”</p>
</blockquote>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hello<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>hello world!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
</code></pre>
<p>上面的这段代码会转化可以转化为虚拟 DOM 结构</p>
<pre class=" language-json"><code class="language-json">&amp;#<span class="token number">123</span><span class="token punctuation">;</span>
    tag<span class="token operator">:</span> <span class="token string">"div"</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span> &amp;#<span class="token number">123</span><span class="token punctuation">;</span>
        class<span class="token operator">:</span> <span class="token string">"hello"</span>
    &amp;#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>&amp;#<span class="token number">123</span><span class="token punctuation">;</span>
        tag<span class="token operator">:</span> <span class="token string">"span"</span><span class="token punctuation">,</span>
        props<span class="token operator">:</span> &amp;#<span class="token number">123</span><span class="token punctuation">;</span>&amp;#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"hello world!"</span><span class="token punctuation">]</span>
    &amp;#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">]</span>
&amp;#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>其中对于一个节点必备的三个属性 <code>tag，props，children</code></p>
<ul>
<li>tag 指定元素的<strong>标签</strong>类型，如“<code>li</code>，<code>div</code>”</li>
<li>props 指定元素身上的属性，如 <code>class</code> ，<code>style</code>，自定义属性</li>
<li>children 指定元素是否有<strong>子节点</strong>，参数以<strong>数组</strong>形式传入</li>
</ul>
<p>而我们在 render 中编写的 JSX 代码就是一种虚拟 DOM 结构。</p>
<h2 id="什么是-diff-算法？"><a href="#什么是-diff-算法？" class="headerlink" title="什么是 diff 算法？"></a>什么是 diff 算法？</h2><p>其实刚开始学习 React 的时候，很多人可能都听说过 React 很高效，性能很好这类的话语，这其实就是得益于 diff 算法和 Virturl DOM 的完美结合。</p>
<p>单纯的我刚开始会认为</p>
<blockquote>
<p>React 也只不过是引入了别人的 diff 算法而已，能有多厉害，又不是原创 ？</p>
</blockquote>
<p>但当我查阅了众多资料后，发现被提及最多的是一个 “传统 diff 算法”</p>
<p>其实 React 针对 diff  算法做出的优化，才是我们应当学习的</p>
<p>React 将原先时间复杂度为 O($n^3$) 的传统算法，优化到了 O(n)</p>
<p><strong>大致执行过程图</strong></p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210824173128172.png" alt="image-20210824173128172"></p>
<p>那 React 是如何实现的呢？</p>
<h2 id="三个策略"><a href="#三个策略" class="headerlink" title="三个策略"></a>三个策略</h2><p>为了将复杂度降到 O(n)，React 基于这三个策略进行了算法优化</p>
<ol>
<li>Web UI 中 DOM 节点跨层级的<strong>移动操作特别少</strong>，可以忽略不计。</li>
<li>拥有相同类的两个组件将会生成<strong>相似</strong>的树形结构，拥有不同类的两个组件将会生成<strong>不同</strong>的树形结构。</li>
<li>对于同一层级的一组子节点，它们可以通过唯一 id 进行区分。</li>
</ol>
<p>针对这三个策略，React 分别对 <code>tree diff</code>、<code>component diff</code> 以及 <code>element diff</code> 进行算法优化</p>
<h3 id="tree-diff-分层求异"><a href="#tree-diff-分层求异" class="headerlink" title="tree diff 分层求异"></a>tree diff 分层求异</h3><p>首先会将新旧两个 DOM 树，进行比较，这个比较指的是分层比较。又由于 DOM 节点跨层级的移动操作很少，忽略不计。React 通过 updataDepth 对 虚拟 DOM 树进行层级控制，只会对同层节点进行比较，也就是图中只会对相同颜色方框内的 DOM 节点进行比较。例如：</p>
<p>当对比发现节点消失时，则该节点及其子节点都会被完全删除，不会进行更深层次的比较，这样只需要对树进行一次遍历，便能完成整颗 DOM 树的比较</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210824131810813.png" alt="image-20210824131810813"></p>
<p>这里还有一个值得关注的地方：<strong>DOM 节点跨层级移动</strong></p>
<p>为什么会提出这样的问题呢，在上面的删除原则中，我们发现当节点不存在了就会删除，那我只是给它换位了，它也会删除整个节点及其子节点吗？</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210824155347956.png" alt="image-20210824155347956"></p>
<p>如图，我们需要实现这样的移动，你可能会以为它会直接这样移动</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E7%AD%96%E7%95%A51.gif" alt="策略1"></p>
<p>但是实际情况，并不是这样的。由于 React 只会简单的进行同层级节点位置变化，对于不同层级的节点，只有创建和删除操作，当发现 B 节点消失时，就会销毁 B，当发现 C 节点上多了 B 节点，就会创建 B 以及它的子节点。</p>
<p>因此这样会非常的复杂，所以 React 官方并不建议我们进行 DOM 节点跨级操作</p>
<h3 id="component-diff"><a href="#component-diff" class="headerlink" title="component diff"></a>component diff</h3><p>在组件层面上，也进行了优化</p>
<ul>
<li>如果是同一类型的组件，则按照原策略继续比较 虚拟 DOM tree</li>
<li>如果不是，则将这个组件记为 <code>dirty component</code> ，从而替换整个组件下的所有子节点</li>
</ul>
<p>同时对于同一类型的组件，有可能其 <code>Virtual DOM</code> 没有任何变化，如果能够确切的知道这点就可以节省大量的 <code>diff</code> 运算的时间，因此 <code>React</code> 允许用户通过 <code>shouldComponentUpdate()</code> 判断该组件是否需要进行 <code>diff</code> 算法分析</p>
<p>总的来说，如果两个组件结构相似，但被认定为了不同类型的组件，则不会比较二者的结构，而是直接删除</p>
<h3 id="element-diff"><a href="#element-diff" class="headerlink" title="element diff"></a>element diff</h3><p>element diff 是专门针对同一层级的所有节点的策略。当节点在同一层级时，diff 提供了 3个节点操作方法：插入，移动，删除</p>
<p>当我们要完成如图所示操作转化时，会有很大的困难，因为在新老节点比较的过程中，发现每个节点都要<strong>删除再重新创建</strong>，但是这只是重新排序了而已，对性能极大的不友好。因此 React 中提出了优化策略：</p>
<p>允许添加<strong>唯一值 key 来区分节点</strong></p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210824163240354.png" alt="image-20210824163240354"></p>
<p>引入 key 的优化策略，让性能上有了翻天覆地的变化</p>
<p><strong>那 key 有什么作用呢？</strong></p>
<p>当同一层级的节点添加了 key 属性后，当位置发生变化时。react diff 进行新旧节点比较，如果发现有相同的 key 就会进行移动操作，而不会删除再创建</p>
<p><strong>那 key 具体是如何起作用的呢？</strong></p>
<p>首先在 React 中只允许<strong>节点右移</strong></p>
<p>因此对于上图中的转化，只会进行 A，C 的移动</p>
<p>则只需要对移动的节点进行更新渲染，不移动的则不需要更新渲染</p>
<p><strong>为什么不能用 index 作为 key 值呢？</strong></p>
<p><code>index</code> 作为 <code>key</code> ，如果我们删除了一个节点，那么数组的后一项可能会前移，这个时候移动的节点和删除的节点就是相同的 <code>key</code>  ，在<code>react</code>中，如果 <code>key</code> 相同，就会视为<strong>相同的组件</strong>，但这两个组件是不同的，这样就会出现很麻烦的事情，例如：序号和文本不对应等问题</p>
<p>所以一定要保证 <code>key</code> 的唯一性</p>
<h2 id="建议"><a href="#建议" class="headerlink" title="建议"></a>建议</h2><p>React 已经帮我们做了很多了，剩下的需要我们多加注意，才能有更好的性能</p>
<p>基于三个策略我们需要注意</p>
<p><strong>tree diff 建议</strong>：开发组件时，需要注意保持 DOM 结构稳定</p>
<p><strong>component diff 建议</strong>：使用 <code>shouldComponentUpdate()</code> 来减少不要的更新</p>
<p><strong>element diff 建议</strong>：减少最后一个节点移动到头部的操作，这样前面的节点都需要移动</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000016539430">谈谈React中Diff算法的策略及实现</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000011492275">React diff算法</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6967626390380216334#heading-1">浅谈react 虚拟dom，diff算法与key机制</a></p>
<hr>
<p>关于手写实现 diff 算法，还有点难度，这事等学完 React 后再说吧</p>
<blockquote>
<p>非常感谢您的阅读，欢迎提出你的意见，有什么问题欢迎指出，谢谢！🎈</p>
</blockquote>
<h2 id="React-入门学习（五）–-认识脚手架"><a href="#React-入门学习（五）–-认识脚手架" class="headerlink" title="React 入门学习（五）– 认识脚手架"></a>React 入门学习（五）– 认识脚手架</h2><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>这篇文章主要围绕 React 中的脚手架，来解决一下几个问题</p>
<p><strong>灵魂三问：是什么？为什么？怎么办？</strong></p>
<ol>
<li>什么是脚手架？</li>
<li>为什么要用脚手架？</li>
<li>怎么用脚手架？</li>
</ol>
<h2 id="🍕-1-什么是-React-脚手架？"><a href="#🍕-1-什么是-React-脚手架？" class="headerlink" title="🍕 1. 什么是 React 脚手架？"></a>🍕 1. 什么是 React 脚手架？</h2><p>在我们的现实生活中，脚手架最常用的使用场景是在工地，它是为了保证施工顺利的、方便的进行而搭建的，在工地上搭建的脚手架可以帮助工人们高校的去完成工作，同时在大楼建设完成后，拆除脚手架并不会有任何的影响。</p>
<p>在我们的 React 项目中，脚手架的作用与之有异曲同工之妙</p>
<p>React 脚手架其实是一个工具帮我们快速的生成项目的工程化结构，每个项目的结构其实大致都是相同的，所以 React 给我提前的搭建好了，这也是脚手架强大之处之一，也是用 React 创建 SPA 应用的最佳方式</p>
<h2 id="🍔-2-为什么要用脚手架？"><a href="#🍔-2-为什么要用脚手架？" class="headerlink" title="🍔 2. 为什么要用脚手架？"></a>🍔 2. 为什么要用脚手架？</h2><p>在前面的介绍中，我们也有了一定的认知，脚手架可以帮助我们快速的搭建一个项目结构</p>
<p>在我之前学习 <code>webpack</code> 的过程中，每次都需要配置 <code>webpack.config.js</code> 文件，用于配置我们项目的相关 <code>loader</code> 、<code>plugin</code>，这些操作比较复杂，但是它的重复性很高，而且在项目打包时又很有必要，那 React 脚手架就帮助我们做了这些，它不需要我们人为的去编写 <code>webpack</code> 配置文件，它将这些配置文件全部都已经提前的配置好了。</p>
<p>据我猜测是直接输入一行命令就能打包完成。</p>
<blockquote>
<p>目前还没有学习到哪，本文主要讲<strong>脚手架的项目目录结构以及安装</strong></p>
</blockquote>
<h2 id="🍟-3-怎么用-React-脚手架？"><a href="#🍟-3-怎么用-React-脚手架？" class="headerlink" title="🍟 3. 怎么用 React 脚手架？"></a>🍟 3. 怎么用 React 脚手架？</h2><p>这也是这篇文章的重点，如何去安装 React 脚手架，并且理解它其中的相关文件作用</p>
<p>首先介绍如何安装脚手架</p>
<h3 id="1-安装-React-脚手架"><a href="#1-安装-React-脚手架" class="headerlink" title="1. 安装 React 脚手架"></a>1. 安装 React 脚手架</h3><p>首先确保安装了 <code>npm</code> 和<code>Node</code>，版本不要太古老，具体是多少不大清楚，建议还是用  <code>npm update</code> 更新一下</p>
<p>然后打开 cmd 命令行工具，全局安装 <code>create-react-app</code></p>
<pre class=" language-shell"><code class="language-shell">npm i create-react-app -g
</code></pre>
<p>然后可以<strong>新建</strong>一个文件夹用于存放项目</p>
<p>在当前的文件夹下执行</p>
<pre class=" language-shell"><code class="language-shell">create-react-app hello-react
</code></pre>
<p><strong>快速搭建项目</strong></p>
<p>再在生成好的 <code>hello-react</code> 文件夹中执行</p>
<pre class=" language-shell"><code class="language-shell">npm start
</code></pre>
<p><strong>启动项目</strong></p>
<p>接下来我们看看这些文件都有什么作用</p>
<h3 id="2-脚手架项目结构"><a href="#2-脚手架项目结构" class="headerlink" title="2. 脚手架项目结构"></a>2. 脚手架项目结构</h3><pre><code>hello-react
├─ .gitignore               // 自动创建本地仓库
├─ package.json             // 相关配置文件
├─ public                   // 公共资源
│  ├─ favicon.ico           // 浏览器顶部的icon图标
│  ├─ index.html            // 应用的 index.html入口
│  ├─ logo192.png           // 在 manifest 中使用的logo图
│  ├─ logo512.png           // 同上
│  ├─ manifest.json         // 应用加壳的配置文件
│  └─ robots.txt            // 爬虫给协议文件
├─ src                      // 源码文件夹
│  ├─ App.css               // App组件的样式
│  ├─ App.js                // App组件
│  ├─ App.test.js           // 用于给APP做测试
│  ├─ index.css             // 样式
│  ├─ index.js              // 入口文件
│  ├─ logo.svg              // logo图
│  ├─ reportWebVitals.js    // 页面性能分析文件
│  └─ setupTests.js         // 组件单元测试文件
└─ yarn.lock
</code></pre>
<p>再介绍一下public目录下的 <code>index.html</code> 文件中的代码意思</p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>%PUBLIC_URL%/favicon.ico<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>theme-color<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#000000<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span>
      <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span>
      <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Web site created using create-react-app<span class="token punctuation">"</span></span>
    <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>apple-touch-icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>%PUBLIC_URL%/logo192.png<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>manifest<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>%PUBLIC_URL%/manifest.json<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>React App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noscript</span><span class="token punctuation">></span></span>You need to enable JavaScript to run this app.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noscript</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<p>以上是删除代码注释后的全部代码</p>
<p><strong>第5行</strong></p>
<p>指定浏览器图标的路径，这里直接采用 <code>%PUBLIC_URL%</code> 原因是 <code>webpack</code> 配置好了，它代表的意思就是 <code>public</code> 文件夹</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>%PUBLIC_URL%/favicon.ico<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<p><strong>第6行</strong></p>
<p>用于做移动端网页适配</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<p><strong>第七行</strong></p>
<p>用于配置安卓手机浏览器顶部颜色，兼容性不大好</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>theme-color<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#000000<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<p><strong>8到11行</strong></p>
<p>用于描述网站信息</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span>
    <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span>
    <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Web site created using create-react-app<span class="token punctuation">"</span></span>
<span class="token punctuation">/></span></span>
</code></pre>
<p><strong>第12行</strong></p>
<p>苹果手机触摸版应用图标</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>apple-touch-icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>%PUBLIC_URL%/logo192.png<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<p><strong>第13行</strong></p>
<p>应用加壳时的配置文件</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>manifest<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>%PUBLIC_URL%/manifest.json<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<blockquote>
<p>以上就是关于 React 脚手架的全部内容了，非常感谢你的阅读💕</p>
</blockquote>
<h2 id="React-入门学习（六）–-TodoList-案例"><a href="#React-入门学习（六）–-TodoList-案例" class="headerlink" title="React 入门学习（六）– TodoList 案例"></a>React 入门学习（六）– TodoList 案例</h2><h2 id="引言-1"><a href="#引言-1" class="headerlink" title="引言"></a>引言</h2><p>TodoList 案例在前端学习中挺重要的，从原生 JavaScript 的增删查改，到现在 React 的组件通信，都是一个不错的案例，这篇文章主要记录，还原一下通过 React 实现 TodoList 的全过程</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210826091013929.png" alt="image-20210826091013929"></p>
<h2 id="一、拆分组件"><a href="#一、拆分组件" class="headerlink" title="一、拆分组件"></a>一、拆分组件</h2><p>首先第一步需要做的是将这个页面拆分成几个组件</p>
<p>首先顶部的输入框，可以完成添加项目的功能，可以拆分成一个 <strong>Header 组件</strong></p>
<p>中间部分可以实现一个渲染列表的功能，可以拆分成一个 <strong>List 组件</strong></p>
<p>在这部分里面，每一个待办事项都可以拆分成一个 <strong>Item 组件</strong></p>
<p>最后底部显示当前完成状态的部分，可以拆分成一个 <strong>Footer 组件</strong></p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210826092737826.png" alt="image-20210826092737826"></p>
<p>在拆分完组件后，我们下一步要做的就是去实现这些组件的静态效果</p>
<h2 id="二、实现静态组件"><a href="#二、实现静态组件" class="headerlink" title="二、实现静态组件"></a>二、实现静态组件</h2><p>首先，我们可以先写好这个页面的静态页面，然后再分离组件，所以这就要求我们</p>
<p>以后写静态页面的时候，一定要有明确的规范</p>
<ol>
<li>打好注释</li>
<li>每个部分的 CSS 要写在一个地方，不要随意写</li>
<li>命名一定要规范</li>
<li>CSS 选择器不要关联太多层级</li>
<li>在写 HTML 时就要划分好布局</li>
</ol>
<p>这样有利于我们分离组件</p>
<p>首先，我们在 <code>src</code> 目录下，新建一个 <code>Components</code> 文件夹，用于存放我们的组件，然后在文件夹下，新建 <code>Header</code> 、<code>Item</code>、<code>List</code> 、<code>Footer</code> 组件文件夹，再创建其下的 <code>index.jsx</code>，<code>index.css</code> 文件，用于创建对应组件及其样式文件</p>
<pre class=" language-markdown"><code class="language-markdown">todolist
├─ package.json
├─ public
│  ├─ favicon.ico
│  └─ index.html
├─ src
│  ├─ App.css
│  ├─ App.jsx
│  ├─ Components
│  │  ├─ Footer
│  │  │  ├─ index.css
│  │  │  └─ index.jsx
│  │  ├─ Header
│  │  │  ├─ index.css
│  │  │  └─ index.jsx
│  │  ├─ item
│  │  │  ├─ index.css
│  │  │  └─ index.jsx
│  │  └─ List
│  │     ├─ index.css
│  │     └─ index.jsx
│  └─ index.js
└─ yarn.lock
</code></pre>
<p>最终目录结构如上</p>
<p>然后我们将每个组件，对应的 HTML 结构 CV 到对应组件的 <code>index.jsx</code> 文件中 <code>return</code> 出来，再将 CSS 样式添加到 <code>index.css</code> 文件中</p>
<p><strong>记得</strong>，在 <code>index.jsx</code> 中一定要引入 <code>index.css</code> 文件</p>
<p>实现了静态组件后，我们需要添加事件等，来实现动态组件</p>
<h2 id="三、实现动态组件"><a href="#三、实现动态组件" class="headerlink" title="三、实现动态组件"></a>三、实现动态组件</h2><h3 id="🍎-1-动态展示列表"><a href="#🍎-1-动态展示列表" class="headerlink" title="🍎 1. 动态展示列表"></a>🍎 1. 动态展示列表</h3><p>我们目前实现的列表项是固定的，我们需要它通过<strong>状态</strong>来维护，而不是通过<strong>组件标签</strong>来维护</p>
<p>首先我们知道，父子之间传递参数，可以通过 <code>state</code> 和 <code>props</code> 实现</p>
<p>我们通过在父组件也就是 <code>App.jsx</code> 中设置状态</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210826103418053.png" alt="image-20210826103418053"></p>
<p>再将它传递给对应的渲染组件 <code>List</code> </p>
<pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token entity" title="&#123;">&amp;#123;</span> todos <span class="token entity" title="&#125;">&amp;#125;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>List</span> <span class="token attr-name">todos</span><span class="token attr-value"><span class="token punctuation">=</span>&amp;#123;todos&amp;#125;/</span><span class="token punctuation">></span></span>
</code></pre>
<p>这样在 <code>List</code> 组件中就能通过 <code>props</code> 来获取到 <code>todos</code> </p>
<p>我们通过解构取出 <code>todos</code></p>
<pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token entity" title="&#123;">&amp;#123;</span> todos<span class="token punctuation">,</span> updateTodo <span class="token entity" title="&#125;">&amp;#125;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
</code></pre>
<p>再通过 <code>map</code> 遍历渲染 <code>Item</code> 数量</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>todo <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>Item key<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>todo<span class="token punctuation">.</span>id<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">...</span>todo<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>同时由于我们的数据渲染最终是在 <code>Item</code> 组件中完成的，所以我们需要将数据传递给 <code>Item</code> 组件</p>
<p>这里有两个注意点</p>
<ol>
<li>关于 <code>key</code> 的作用在 diff 算法的文章中已经有讲过了，需要满足<strong>唯一性</strong></li>
<li>这里采用了简写形式 <code>&#123;...todo&#125;</code> ，这使得代码更加简洁，它代表的意思是</li>
</ol>
<pre class=" language-js"><code class="language-js">id <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>todo<span class="token punctuation">.</span>id<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> name <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>todo<span class="token punctuation">.</span>name<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> done <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>todo<span class="token punctuation">.</span>done<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>在 <code>Item</code> 组件中取出 <code>props</code> 即可使用</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> done <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
</code></pre>
<p>这样我们更改 <code>APP.jsx</code> 文件中的 <code>state</code> 就能驱动着 <code>Item</code> 组件的更新，如图</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-todolist-1.gif" alt="react-todolist-1"></p>
<p>同时这里需要注意的是</p>
<p>对于复选框的选中状态，这里采用的是 <code>defaultChecked = &#123;done&#125;</code>，相比于 <code>checked</code> 属性，这个设定的是默认值，能够更改</p>
<h3 id="🍍-2-添加事项功能"><a href="#🍍-2-添加事项功能" class="headerlink" title="🍍 2. 添加事项功能"></a>🍍 2. 添加事项功能</h3><p>首先我们需要在 Header 组件中，绑定键盘事件，判断按下的是否为回车，如果为回车，则将当前输入框中的内容传递给 APP 组件</p>
<blockquote>
<p>因为，在目前的学习知识中，Header 组件和渲染组件 List 属于兄弟组件，没有办法进行直接的数据传递，因此可以将数据传递给 APP 再由 APP 转发给 List。</p>
</blockquote>
<pre class=" language-jsx"><code class="language-jsx"><span class="token comment" spellcheck="true">// Header/index.jsx</span>
handleKeyUp <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token entity" title="&#123;">&amp;#123;</span>
  <span class="token comment" spellcheck="true">// 结构赋值获取 keyCode,target</span>
  <span class="token keyword">const</span> <span class="token entity" title="&#123;">&amp;#123;</span> keyCode<span class="token punctuation">,</span> target <span class="token entity" title="&#125;">&amp;#125;</span> <span class="token operator">=</span> event
  <span class="token comment" spellcheck="true">// 判断是不是回车</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>keyCode <span class="token operator">!==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token entity" title="&#123;">&amp;#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'输入不能为空'</span><span class="token punctuation">)</span>
  <span class="token entity" title="&#125;">&amp;#125;</span>
  <span class="token comment" spellcheck="true">// 准备一个todo对象</span>
  <span class="token keyword">const</span> todoObj <span class="token operator">=</span> <span class="token entity" title="&#123;">&amp;#123;</span> id<span class="token punctuation">:</span> <span class="token function">nanoid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> target<span class="token punctuation">.</span>value<span class="token punctuation">,</span> done<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token entity" title="&#125;">&amp;#125;</span>
  <span class="token comment" spellcheck="true">// 传递给app</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">addTodo</span><span class="token punctuation">(</span>todoObj<span class="token punctuation">)</span>
  <span class="token comment" spellcheck="true">// 清空</span>
  target<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span>
<span class="token entity" title="&#125;">&amp;#125;</span>
</code></pre>
<p>我们在 <code>App.jsx</code> 中添加了事件 <code>addTodo</code> ，这样可以将 Header 组件传递的参数，维护到 <code>App</code> 的状态中</p>
<pre class=" language-jsx"><code class="language-jsx"><span class="token comment" spellcheck="true">// App.jsx</span>
addTodo <span class="token operator">=</span> <span class="token punctuation">(</span>todoObj<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token entity" title="&#123;">&amp;#123;</span>
  <span class="token keyword">const</span> <span class="token entity" title="&#123;">&amp;#123;</span> todos <span class="token entity" title="&#125;">&amp;#125;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
  <span class="token comment" spellcheck="true">// 追加一个 todo</span>
  <span class="token keyword">const</span> newTodos <span class="token operator">=</span> <span class="token punctuation">[</span>todoObj<span class="token punctuation">,</span> <span class="token operator">...</span>todos<span class="token punctuation">]</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token entity" title="&#123;">&amp;#123;</span> todos<span class="token punctuation">:</span> newTodos <span class="token entity" title="&#125;">&amp;#125;</span><span class="token punctuation">)</span>
<span class="token entity" title="&#125;">&amp;#125;</span>
</code></pre>
<p>在这小部分中，需要我们注意的是，我们新建的 <code>todo</code>  对象，一定要保证它的 <code>id</code> 的唯一性</p>
<p>这里采用的 <code>nanoid</code> 库，这个库的每一次调用都会返回一个唯一的值</p>
<pre class=" language-shell"><code class="language-shell">npm i nanoid
</code></pre>
<p>安装这个库，然后引入</p>
<p>通过 <code>nanoid()</code> 即可生成唯一值</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-todolist-addtodo.gif" alt="react-todolist-addtodo"></p>
<h3 id="🍋-3-实现鼠标悬浮效果"><a href="#🍋-3-实现鼠标悬浮效果" class="headerlink" title="🍋 3. 实现鼠标悬浮效果"></a>🍋 3. 实现鼠标悬浮效果</h3><p>接下来我们需要实现每个 <code>Item</code> 中的小功能</p>
<p>首先是鼠标移入时的变色效果</p>
<p>我的逻辑是，通过一个状态来维护是否鼠标移入，比如用一个 <code>mouse</code> 变量，值给 <code>false</code> 当鼠标移入时，重新设定状态为 <code>true</code> 当鼠标移出时设为 <code>false</code> ，然后我们只需要在 <code>style</code> 中用<code>mouse</code> 去设定样式即可</p>
<p>下面我们来代码实现</p>
<p>在 <code>Item</code> 组件中，先设定状态</p>
<pre class=" language-jsx"><code class="language-jsx">state <span class="token operator">=</span> <span class="token entity" title="&#123;">&amp;#123;</span> mouse<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token entity" title="&#125;">&amp;#125;</span> <span class="token comment" spellcheck="true">// 标识鼠标移入，移出</span>
</code></pre>
<p>给元素绑定上鼠标移入，移出事件</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>li onMouseEnter<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleMouse</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> onMouseLeave<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleMouse</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">></span><span class="token operator">&lt;</span>li<span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>当鼠标移入时，会触发 <code>onMouseEnter</code> 事件，调用 <code>handleMouse</code> 事件传入参数 <code>true</code> 表示鼠标进入，更新组件状态</p>
<pre class=" language-js"><code class="language-js">handleMouse <span class="token operator">=</span> flag <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> mouse<span class="token punctuation">:</span> flag <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>再在 <code>li</code> 身上添加由 <code>mouse</code> 控制的背景颜色</p>
<pre class=" language-js"><code class="language-js">style<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> backgroundColor<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>mouse <span class="token operator">?</span> <span class="token string">'#ddd'</span> <span class="token punctuation">:</span> <span class="token string">'white'</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>同时通过 <code>mouse</code> 来控制删除按钮的显示和隐藏，做法和上面一样</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-todolist-mouse.gif" alt="react-todolist-mouse"></p>
<p>观察 mouse 的变化</p>
<h3 id="🍉-4-复选框状态维护"><a href="#🍉-4-复选框状态维护" class="headerlink" title="🍉 4. 复选框状态维护"></a>🍉 4. 复选框状态维护</h3><p>我们需要将当前复选框的状态，维护到 <code>state</code>  当中</p>
<p>我们的思路是</p>
<p>在复选框中添加一个 <code>onChange</code>  事件来进行数据的传递，当事件触发时我们执行 <code>handleCheck</code> 函数，这个函数可以向 App 组件中传递参数，这样再在 App 中改变状态即可</p>
<p>首先绑定事件</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// Item/index.jsx</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> defaultChecked<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>done<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> onChange<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleCheck</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>事件回调</p>
<pre class=" language-jsx"><code class="language-jsx">handleCheck <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token entity" title="&#123;">&amp;#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token entity" title="&#123;">&amp;#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">updateTodo</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span>
    <span class="token entity" title="&#125;">&amp;#125;</span>
<span class="token entity" title="&#125;">&amp;#125;</span>
</code></pre>
<p>由于我们需要传递 <code>id</code> 来记录状态更新的对象，因此我们需要采用高阶函数的写法，不然函数会直接执行而报错，复选框的状态我们可以通过 <code>event.target.checked</code> 来获取</p>
<p>这样我们将我们需要改变状态的 <code>Item</code> 的 <code>id</code> 和改变后的状态，传递给了 App</p>
<p>内定义的<code>updateTodo</code> 事件，这样我们可以在 App 组件中操作改变状态</p>
<p>我们传递了两个参数 <code>id</code> 和 <code>done</code></p>
<p>通过遍历找出该 <code>id</code> 对应的 <code>todo</code> 对象，更改它的 <code>done</code> 即可</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// App.jsx</span>
updateTodo <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token punctuation">,</span> done<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> todos <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
  <span class="token comment" spellcheck="true">// 处理</span>
  <span class="token keyword">const</span> newTodos <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>todoObj <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>todoObj<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token operator">...</span>todoObj<span class="token punctuation">,</span> done <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">else</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> todoObj
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> todos<span class="token punctuation">:</span> newTodos <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>这里更改的方式是 <code>&#123; ...todoObj, done &#125;</code>，首先会展开 <code>todoObj</code> 的每一项，再对 <code>done</code> 属性做覆盖</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-todolist-update.gif" alt="react-todolist-update"></p>
<h3 id="🍏-5-限制参数类型"><a href="#🍏-5-限制参数类型" class="headerlink" title="🍏 5. 限制参数类型"></a>🍏 5. 限制参数类型</h3><p>在我们前面写的东西中，我们并没有对参数的<strong>类型以及必要性</strong>进行限制</p>
<p>在前面我们也学过这个，我们需要借助 <code>propTypes</code> 这个库</p>
<p>首先我们需要引入这个库，然后对 <code>props</code> 进行限制</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// Header</span>
<span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  addTodo<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">.</span>isRequired
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>在Header 组件中需要接收一个 <code>addTodo</code> 函数，所以我们进行一下限制</p>
<p>同时在 List 组件中也需要进行对 <code>todos</code> 以及 <code>updateTodo</code> 的限制</p>
<p>如果传入的参数不符合限制，则会报 <strong>warning</strong></p>
<h3 id="🍒-6-删除按钮"><a href="#🍒-6-删除按钮" class="headerlink" title="🍒 6. 删除按钮"></a>🍒 6. 删除按钮</h3><p>现在我们需要实现删除按钮的效果</p>
<p>这个和前面的挺像的，首先我们分析一下，我们需要在 <code>Item</code> 组件上的按钮绑定点击事件，然后传入被点击事项的 <code>id</code> 值，通过 <code>props</code> 将它传递给父元素 <code>List</code> ，再通过在 <code>List</code> 中绑定一个 <code>App</code> 组件中的删除回调，将 <code>id</code> 传递给 <code>App</code> 来改变 <code>state</code></p>
<p>首先我们先编写 点击事件</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// Item/index.jsx</span>
handleDelete <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">deleteTodo</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>绑定在点击事件的回调上</p>
<p>子组件想影响父组件的状态，需要父组件传递一个函数，因此我们在 <code>App</code> 中添加一个 <code>deleteTodo</code> 函数</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// app.jsx</span>
deleteTodo <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> todos <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
  <span class="token keyword">const</span> newTodos <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>todoObj <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> todoObj<span class="token punctuation">.</span>id <span class="token operator">!==</span> id
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> todos<span class="token punctuation">:</span> newTodos <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>然后将这个函数传递给 List 组件，再传递给 Item</p>
<p>增加一个判断</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'确认删除'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">deleteTodo</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-todolist-detele.gif" alt="react-todolist-detele"></p>
<h3 id="🍓-7-获取完成数量"><a href="#🍓-7-获取完成数量" class="headerlink" title="🍓 7. 获取完成数量"></a>🍓 7. 获取完成数量</h3><p>我们在 App 中向 <code>Footer</code> 组件传递 <code>todos</code> 数据，再去统计数据</p>
<p>统计 <code>done </code>为 <code>true</code> 的个数</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> doneCount <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span> todo<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pre <span class="token operator">+</span> <span class="token punctuation">(</span>todo<span class="token punctuation">.</span>done <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre>
<p>再渲染数据即可</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210826160505813.png" alt="image-20210826160505813"></p>
<h3 id="🍊-8-全选按钮"><a href="#🍊-8-全选按钮" class="headerlink" title="🍊 8. 全选按钮"></a>🍊 8. 全选按钮</h3><p>首先我们需要在按钮上绑定事件，由于子组件需要改变父组件的状态，所以我们的操作和之前的一样，先绑定事件，再在 App 中传一个函数个 Footer ，再在 Footer 中调用这个函数并传入参数即可</p>
<p>这里需要特别注意的是</p>
<p><code>defaulChecked</code> 只有第一次会起作用，所以我们需要将前面写的改成 <code>checked</code> 添加 <code>onChange</code> 事件即可</p>
<p>首先我们先在 App 中给 Footer 传入一个函数 <code>checkAllTodo</code> </p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// App.jsx</span>
checkAllTodo <span class="token operator">=</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> todos <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
  <span class="token keyword">const</span> newTodos <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>todoObj <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token operator">...</span>todoObj<span class="token punctuation">,</span> done<span class="token punctuation">:</span> done <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> todos<span class="token punctuation">:</span> newTodos <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// render</span>
 <span class="token operator">&lt;</span>Footer todos<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>todos<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> checkAllTodo<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkAllTodo<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>然后我们需要在 Footer 中调用一下</p>
<pre class=" language-js"><code class="language-js">handleCheckAll <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">checkAllTodo</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>这里我们传入了一个参数：当前按钮的状态，用于全选和取消全选</p>
<p>同时我们需要排除总数为0 时的干扰</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> checked<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>doneCount <span class="token operator">===</span> total <span class="token operator">&amp;&amp;</span> total <span class="token operator">!==</span> <span class="token number">0</span><span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> onChange<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleCheckAll<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-todolist-all.gif" alt="react-todolist-all"></p>
<h3 id="🥭-9-删除已完成"><a href="#🥭-9-删除已完成" class="headerlink" title="🥭 9. 删除已完成"></a>🥭 9. 删除已完成</h3><p>给删除按钮添加一个点击事件，回调中调用 App 中添加的删除已完成的函数，全都一个套路</p>
<p><strong>强烈建议这个自己打</strong></p>
<p>首先在 Footer 组件中调用传来的函数，在 App 中定义函数，过滤掉  <code>done</code> 为 <code>true</code> 的，再更新状态即可</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// App.jsx</span>
clearAllDone <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> todos <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
  <span class="token keyword">const</span> newTodos <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>todoObj<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> todoObj<span class="token punctuation">.</span>done <span class="token operator">!==</span> <span class="token boolean">true</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> todos<span class="token punctuation">:</span> newTodos <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-todolist-clear.gif" alt="react-todolist-clear"></p>
<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><ol>
<li>注意：className、style 写法</li>
<li>父组件给子组件传递数据，采用 <code>props</code></li>
<li>子组件给父组件传递数据，通过 <code>props</code>，同时提前给子组件传递一个函数</li>
<li>注意 <code>defaultChecked</code> 和 <code>checked</code> 的区别</li>
<li>一定要自己敲一下，好好理解数据传递</li>
</ol>
<blockquote>
<p>非常感谢您的阅读，欢迎提出你的意见，有什么问题欢迎指出，谢谢！🎈</p>
</blockquote>
<h2 id="React-入门学习（七）–-脚手架配置代理"><a href="#React-入门学习（七）–-脚手架配置代理" class="headerlink" title="React 入门学习（七）– 脚手架配置代理"></a>React 入门学习（七）– 脚手架配置代理</h2><h1 id="引言-2"><a href="#引言-2" class="headerlink" title="引言"></a>引言</h1><p>React 本身只关注于页面，并不包含发送 Ajax 请求的代码，所以一般都是集成第三方的包，或者自己封装的</p>
<p>自己封装的话，比较麻烦，而且也可能考虑不全</p>
<p>常用的有两个库，一个是JQuery，一个是 axios</p>
<ol>
<li>JQuery 这个比较重，因为 Ajax 服务也只是它这个库里的一小块功能，它主要做的还是 DOM 操作，而这不利于 React ，不推荐使用</li>
<li>axios 这个就比较轻，而且采用 Promise 风格，代码的逻辑会相对清晰，<strong>推荐使用</strong></li>
</ol>
<p>因此我们这里采用 axios 来发送客户端请求</p>
<p>以前，我们在发送请求的时候，经常会遇到一个很重要的问题：跨域！</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210827091119837.png" alt="image-20210827091119837"></p>
<p>在我以前的学习中，基本上都需要操作后端服务器代码才能解决跨域的问题，配置请求头，利用 script，这些都需要后端服务器的配合，因此我们前端需要自己解决这个问题的话，就需要这个技术了：<strong>代理</strong>。</p>
<p>在说代理之前，先谈谈为什么会出现跨域？</p>
<p>这个应该是源于浏览器的同源策略。所谓同源（即指在同一个域）就是两个页面具有相同的协议，主机和端口号， 当一个请求 URL 的<strong>协议、域名、端口</strong>三者之间任意一个与当前页面 URL 不同即为跨域 。</p>
<p>也就是说 <code>xxx:3000</code>和 <code>xxx:4000</code> 会有跨域问题，<code>xxx:3000</code> 与 <code>abc:3000</code> 有跨域问题</p>
<p>那接下来我们采用<strong>配置代理</strong>的方式去解决这个问题</p>
<blockquote>
<p>关于跨域的问题解决方案，在之后的文章会有总结 ~</p>
</blockquote>
<h2 id="1-全局代理"><a href="#1-全局代理" class="headerlink" title="1. 全局代理"></a>1. 全局代理</h2><p>第一种方法，我把它叫做全局代理，因为它直接将代理配置在了配置文件 <code>package.json</code> 中</p>
<pre class=" language-json"><code class="language-json"><span class="token property">"proxy"</span><span class="token operator">:</span><span class="token string">"http://localhost:5000"</span>  
// <span class="token property">"proxy"</span><span class="token operator">:</span><span class="token string">"请求的地址"</span>
</code></pre>
<p>这样配置代理时，首先会在抓原请求地址上访问，如果访问不到文件，就会转发到这里配置的地址上去请求</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E8%BD%AC%E5%8F%91.png" alt="转发"></p>
<p>我们需要做的就是在我们的请求代码中，将请求的地址改到转发的地址，即可</p>
<p>但是这样会有一些问题，它会先向我们请求的地址，也就是这里的 <code>3000</code> 端口下请求数据，如果在 <code>3000</code> 端口中存在我们需要访问的文件，会直接返回，<strong>不会再去转发</strong></p>
<p>因此这就会出现问题，同时因为这种方式采用的是全局配置的关系，导致<strong>只能转发到一个地址</strong>，不能配置多个代理</p>
<h2 id="2-单独配置"><a href="#2-单独配置" class="headerlink" title="2. 单独配置"></a>2. 单独配置</h2><p>这也是我自己起的名字，这种配置方式，可以给多个请求配置代理，非常不错</p>
<p>它的工作原理和全局配置是一样的，但是写法不同</p>
<p><strong>首先</strong>我们需要在 <code>src</code> 目录下，创建代理配置文件 <code>setupProxy.js</code> </p>
<p>注意：这个文件只能叫这个名字，脚手架在启动的时候，会自动执行这些文件</p>
<p><strong>第二步</strong></p>
<p>配置具体的代理规则，我们大致讲讲这些是什么意思</p>
<ol>
<li><p>首先我们需要引入这个 <code>http-proxy-middleware</code> 中间件，然后需要导出一个对象，这里建议使用函数，使用对象的话兼容性不大好</p>
</li>
<li><p>然后我们需要在 <code>app.use</code> 中配置，我们的代理规则，首先 <code>proxy</code>  接收的第一个参数是需要转发的请求，我的理解是一个标志的作用，当有这个标志的时候，预示着我们需要采用代理，例如 <code>/api1</code> ，我们就需要在我们 <code>axios</code> 的请求路径中，加上 <code>/api1</code> ，这样所有添加了 <code>/api1</code> 前缀的请求都会转发到这</p>
</li>
<li><p>第二个参数接受的是一个对象，用于配置代理。</p>
<ul>
<li><code>target</code> 属性用于配置转发目标地址，也就是我们数据的地址</li>
<li><code>changeOrigin</code> 属性用于控制服务器收到的请求头中 <code>host</code> 字段，可以理解为一个伪装效果，为 <code>true</code> 时，收到的 <code>host</code> 就为请求数据的地址</li>
<li><code>pathRewrite</code> 属性用于去除请求前缀，因为我们通过代理请求时，需要在请求地址前添加一个标志，但是实际的地址是不存在这个标志的，所以我们<strong>一定要去除</strong>这个前缀，这里采用的有点类似于正则替换的方式</li>
</ul>
</li>
</ol>
<p>配置一个代理的完整代码如下</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token string">'/api1'</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> 
      target<span class="token punctuation">:</span> <span class="token string">'http://localhost:5000'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//配置转发目标地址</span>
      changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//控制服务器接收到的请求头中host字段的值</span>
      pathRewrite<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token string">'^/api1'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//去除请求前缀址(必须配置)</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<hr>
<p>关于脚手架配置代理的内容就到这里啦！</p>
<blockquote>
<p>非常感谢您的阅读，欢迎提出你的意见，有什么问题欢迎指出，谢谢！🎈</p>
</blockquote>
<h2 id="React-入门学习（八）–-GitHub-搜索案例"><a href="#React-入门学习（八）–-GitHub-搜索案例" class="headerlink" title="React 入门学习（八）– GitHub 搜索案例"></a>React 入门学习（八）– GitHub 搜索案例</h2><h2 id="引言-3"><a href="#引言-3" class="headerlink" title="引言"></a>引言</h2><p>本文主要介绍 React 学习中 Github 搜索案例，这个案例主要涉及到了 Axios 发送请求，数据渲染以及一些中间交替效果的实现</p>
<p>个人感觉在做完 TodoList 案例之后，这个案例会很轻松，只是多加了一个 Loading 效果的实现思路，以及一些小细节的完善，感觉练练手还是很不错的</p>
<h2 id="一、实现静态组件"><a href="#一、实现静态组件" class="headerlink" title="一、实现静态组件"></a>一、实现静态组件</h2><p>和之前的 TodoList 案例一样，我们需要先实现静态组件，在实现静态组件之前，我们还需要拆分组件，这个页面的组件，我们可以将它拆成以下两个组件，第一个组件是 <code>Search</code>，第二个是 <code>List</code> </p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210828065604542.png" alt="image-20210828065604542"></p>
<p>接下来我们需要将提前写好的静态页面，对应拆分到组件当中</p>
<p>注意：</p>
<ol>
<li>class 需要改成 className</li>
<li>style 的值需要使用双花括号的形式</li>
</ol>
<p>最重要的一点就是，<code>img</code> 标签，一定要<strong>添加</strong> <code>alt</code> 属性表示图片加载失败时的提示。</p>
<p>同时，<code>a</code> 标签要添加 <code>rel=&quot;noreferrer&quot;</code>属性，不然会有大量的警告出现</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210828070148865.png" alt="image-20210828070148865"></p>
<h2 id="二、axios-发送请求"><a href="#二、axios-发送请求" class="headerlink" title="二、axios 发送请求"></a>二、axios 发送请求</h2><p>在实现静态组件之后，我们需要通过向 <code>github</code> 发送请求，来获取相应的用户信息</p>
<p>但是由于短时间内多次请求，可能会导致请求不返回结果等情况发生，因此我们采用了一个事先搭建好的本地服务器</p>
<p>我们启动服务器，向这个地址发送请求即可</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210828071053508.png" alt="image-20210828071053508"></p>
<p>这个请求类型是 GET 请求，我们需要传递一个搜索的关键字，去请求数据</p>
<p>我们首先要获取到用户点击搜索按钮后<strong>输入框中的值</strong></p>
<p>在需要触发事件的 <code>input</code> 标签中，添加 <code>ref</code> 属性</p>
<pre class=" language-js"><code class="language-js"> <span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>c <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>keyWordElement <span class="token operator">=</span> c<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span> placeholder<span class="token operator">=</span><span class="token string">"输入关键词点击搜索"</span> <span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>我们可以通过 <code>this.keyWordElement</code> 属性来获取到这个当前节点，也就是这个 <code>input</code> 框</p>
<p>我们再通过 <code>value</code> 值，即可获取到当前 <code>input</code> 框中的值</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// search 回调</span>
<span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> keyWordElement<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> value<span class="token punctuation">:</span> keyWord <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span>
</code></pre>
<p>这里采用的是连续的解构赋值，最后将 <code>value</code> 改为 <code>keyWord</code> ，这样好辨别</p>
<p>获取到了 <code>keyWord</code> 值，接下来我们就需要发送请求了</p>
<pre class=" language-js"><code class="language-js">axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`http://localhost:3000/api1/search/users?q=$&amp;#123;keyWord&amp;#125;`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    response <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">updateAppState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> isLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> users<span class="token punctuation">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>items <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
    error <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">updateAppState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> isLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> err<span class="token punctuation">:</span> error<span class="token punctuation">.</span>message <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token punctuation">)</span>
</code></pre>
<p> 我们将 <code>keyWord</code> 接在请求地址的后面，来传递参数，以获得相关数据</p>
<p>这里会存在跨域的问题，因我我们是站在 3000 端口向 5000 端口发送请求的</p>
<p>因此我们需要配置代理来解决跨域的问题，我们需要在请求地址前，加上启用代理的标志 <code>/api1</code></p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// setupProxy.js</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>app<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
        <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token string">'/api1'</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            target<span class="token punctuation">:</span> <span class="token string">'http://localhost:5000'</span><span class="token punctuation">,</span>
            changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            pathRewrite<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
                <span class="token string">'^/api1'</span><span class="token punctuation">:</span> <span class="token string">''</span>
            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>这样我们就能成功的获取到了数据</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210828072705747.png" alt="image-20210828072705747"></p>
<h2 id="三、渲染数据"><a href="#三、渲染数据" class="headerlink" title="三、渲染数据"></a>三、渲染数据</h2><p>在获取到了数据之后，我们需要对数据进行分析，并将这些数据渲染到页面上</p>
<p>比较重要的一点是，我们获取到的用户个数是动态的，因此我们需要通过遍历的方式去实现</p>
<p>同时我们的数据当前存在于 <code>Search</code> 组件当中，我们需要在 <code>List</code> 组件中使用，所以我们需要个 <code>Search</code> 组件传递一个函数，来实现子向父传递数据，再通过 <code>App</code> 组件，向<code>List</code> 组件传递数据即可得到 <code>data</code></p>
<pre class=" language-js"><code class="language-js">users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>userObj<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>userObj<span class="token punctuation">.</span>id<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> className<span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>a rel<span class="token operator">=</span><span class="token string">"noreferrer"</span> href<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>userObj<span class="token punctuation">.</span>html_url<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>img alt<span class="token operator">=</span><span class="token string">"avatar"</span> src<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>userObj<span class="token punctuation">.</span>avatar_url<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> style<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> width<span class="token punctuation">:</span> <span class="token string">'100px'</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
      <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">"card-text"</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>userObj<span class="token punctuation">.</span>login<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
</code></pre>
<p>这里我们通过 <code>map</code> 遍历整个返回的数据，来循环的添加 <code>card</code> 的个数</p>
<p>同时将一些用户信息添加到其中</p>
<h2 id="四、增加交互"><a href="#四、增加交互" class="headerlink" title="四、增加交互"></a>四、增加交互</h2><p>做到这里其实已经完成了一大半了，但是似乎少了点交互</p>
<ul>
<li>加载时的 loading 效果</li>
<li>第一次进入页面时 List 组件中的<strong>欢迎使用字样</strong></li>
<li>在报错时应该提示错误信息</li>
</ul>
<p>这一些都预示着我们不能单纯的将用户数据直接渲染，我们需要添加一些判断，什么时候该渲染数据，什么时候渲染 loading，什么时候渲染 err </p>
<p>首先我们需要增加一些状态，来指示我们该渲染什么，比如</p>
<ul>
<li>采用 <code>isFrist</code> 来判断页面是否第一次启动，初始值给 <code>true</code>，点击搜索后改为 <code>false</code></li>
<li>采用 <code>isLoading</code> 来判断是否应该显示 Loading 动画，初始值给 <code>false</code>，在点击搜索后改为 <code>true</code>，在拿到数据后改为 <code>false</code></li>
<li>采用 <code>err</code> 来判断是否渲染错误信息，当报错时填入报错信息，初始值<strong>给空</strong></li>
</ul>
<pre class=" language-js"><code class="language-js">state <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> users<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> isFirst<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> isLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> err<span class="token punctuation">:</span> <span class="token string">''</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>这样我们就需要改变我先前采用的数据传递方式，采用更新状态的方式，接收一个状态对象来<strong>更新数据</strong>，这样就不用去指定什么时候更新什么，就可以减少很多<strong>不必要</strong>的函数声明</p>
<p>同时在 App 组件给 List 组件传递数据时，我们可以采用解构赋值的方式，这样可以减少代码量</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// App.jsx</span>
<span class="token comment" spellcheck="true">// 接收一个状态对象</span>
updateAppState <span class="token operator">=</span> <span class="token punctuation">(</span>stateObj<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>stateObj<span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>Search updateAppState<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>updateAppState<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span>List <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>这样我们只需要在 List 组件中，判断这些状态的值，来显示即可</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// List/index.jsx</span>
<span class="token comment" spellcheck="true">// 对象解构</span>
<span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> users<span class="token punctuation">,</span> isFirst<span class="token punctuation">,</span> isLoading<span class="token punctuation">,</span> err <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
<span class="token comment" spellcheck="true">// 判断</span>
<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  isFirst <span class="token operator">?</span> <span class="token operator">&lt;</span>h2<span class="token operator">></span>欢迎使用，输入关键字，点击搜索<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span> <span class="token punctuation">:</span>
    isLoading <span class="token operator">?</span> <span class="token operator">&lt;</span>h2<span class="token operator">></span>Loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span> <span class="token punctuation">:</span>
      err <span class="token operator">?</span> <span class="token operator">&lt;</span>h2 style<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> color<span class="token punctuation">:</span> <span class="token string">'red'</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>err<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span> <span class="token punctuation">:</span>
        users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>userObj<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
           <span class="token comment" spellcheck="true">// 渲染数据块</span>
           <span class="token comment" spellcheck="true">//为了减少代码量，就不贴了</span>
          <span class="token punctuation">)</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>我们需要先判断是否第一次，再判断是不是正在加载，再判断有没有报错，最后再渲染数据</p>
<p>我们的状态更新是在 Search 组件中实现的，在点击搜索之后数据返回之前，我们需要将 <code>isFirst</code> 改为 <code>false</code> ，<code>isLoading</code> 改为 <code>true</code> </p>
<p>接收到数据后我们再将 <code>isLoading</code> 改为 <code>false</code> 即可</p>
<p>以上就是 Github 搜索案例的实现过程</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-github.gif" alt="react-github"></p>
<p>最终效果图</p>
<hr>
<blockquote>
<p>前端路还有很长，今天我就大二啦！加油吧！！！</p>
</blockquote>
<blockquote>
<p>非常感谢您的阅读，欢迎提出你的意见，有什么问题欢迎指出，谢谢！🎈</p>
</blockquote>
<h2 id="React-入门学习（九）–-消息订阅发布"><a href="#React-入门学习（九）–-消息订阅发布" class="headerlink" title="React 入门学习（九）– 消息订阅发布"></a>React 入门学习（九）– 消息订阅发布</h2><h2 id="引言-4"><a href="#引言-4" class="headerlink" title="引言"></a>引言</h2><p>在昨天写的 <code>Github</code> 案例中，我们采用的是 <code>axios</code> 发送请求来获取数据，同时我们需要将数据从 <code>Search</code> 中传入给 <code>App</code>，再由 <code>App</code> 组件再将数据传递给 <code>List</code> 组件，这个过程会显得多此一举。同时我们要将 <code>state</code> 状态存放在 <code>App</code> 组件当中，但是这些 <code>state</code> 状态都是在 <code>List</code> 组件中使用的，在 <code>Search</code> 组件中做的，只是更新这些数据，那这样也会显得很没有必要，我们完全可以将 <code>state</code> 状态存放在 <code>List</code> 组件中，但是这样我们又会遇到技术难题，兄弟组件间的数据通信。那这里我们就学习一下如何利用消息订阅发布来解决<strong>兄弟组件间的通信</strong></p>
<h2 id="消息发布订阅"><a href="#消息发布订阅" class="headerlink" title="消息发布订阅"></a>消息发布订阅</h2><p>要解决上面的问题，我们可以借助发布订阅的机制，我们可以将 App 文件中的所有状态和方法全部去除，因为本来就不是在 App 组件中直接使用这些方法的，App 组件只是一个中间媒介而已</p>
<p>我们先简单的说一下<strong>消息订阅和发布的机制</strong></p>
<p>就拿我们平常订杂志来说，我们和出版社说我们要订一年的足球周刊，那每次有新的足球周刊，它都会寄来给你。</p>
<p>换到代码层面上，我们订阅了一个消息假设为 A，当另一个人发布了 A 消息时，因为我们订阅了消息 A ，那么我们就可以拿到 A 消息，并获取数据</p>
<p>那我们要怎么实现呢？</p>
<p>首先引入 <code>pubsub-js</code></p>
<p>我们需要先安装这个库</p>
<pre class=" language-js"><code class="language-js">yarn add pubsub<span class="token operator">-</span>js
</code></pre>
<p>引入这个库 </p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> PubSub <span class="token keyword">from</span> <span class="token string">'pubsub-js'</span>
</code></pre>
<p>订阅消息</p>
<p>我们通过 <code>subscribe</code> 来订阅消息，它接收两个参数，第一个参数是消息的名称，第二个是消息成功的回调，回调中也接受两个参数，一个是消息名称，一个是返回的数据</p>
<pre class=" language-js"><code class="language-js">PubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'search'</span><span class="token punctuation">,</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
</code></pre>
<p>发布消息</p>
<p>我们采用 <code>publish</code> 来发布消息，用法如下</p>
<pre class=" language-js"><code class="language-js">PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'search'</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>name<span class="token punctuation">:</span><span class="token string">'tom'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">18</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
</code></pre>
<p>有了这些基础，我们可以完善我们昨天写的 GitHub 案例</p>
<p>将数据的更新通过 <code>publish</code> 来传递，例如在发送请求之前，我们需要出现 loading 字样</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// 之前的写法</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">updateAppState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> isFirst<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> isLoading<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// 改为发布订阅方式</span>
PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'search'</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> isFirst<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> isLoading<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
</code></pre>
<p>这样我们就能成功的在请求之前发送消息，我们只需要在 List 组件中订阅一下这个消息即可，并将返回的数据用于更新状态即可</p>
<pre class=" language-js"><code class="language-js">PubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'search'</span><span class="token punctuation">,</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span>stateObj<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>stateObj<span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
</code></pre>
<p>同时上面的代码会返回一个 <code>token</code> ，这个就类似于定时器的编号的存在，我们可以通过这个 <code>token</code> 值，来取消对应的订阅</p>
<p>通过 <code>unsubscribe</code> 来取消指定的订阅</p>
<pre class=" language-js"><code class="language-js">PubSub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>token<span class="token punctuation">)</span>
</code></pre>
<h2 id="扩展-–-Fetch"><a href="#扩展-–-Fetch" class="headerlink" title="扩展 – Fetch"></a>扩展 – Fetch</h2><p>首先 fetch 也是一种发送请求的方式，它是在 xhr 之外的一种，我们平常用的 Jquery 和 axios 都是封装了 xhr 的第三方库，而 fetch 是官方自带的库，同时它也采用的是 Promise 的方式，大大简化了写法</p>
<p>如何使用呢？</p>
<pre class=" language-js"><code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://xxx'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>json <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Request Failed'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre>
<p>它的使用方法和 axios 非常的类似，都是返回 Promise 对象，但是不同的是， fetch 关注分离，它在第一次请求时，不会直接返回数据，会先返回联系服务器的状态，在第二步中才能够获取到数据</p>
<p>我们需要在第一次 <code>then</code> 中返回 <code>response.json()</code> 因为这个是包含数据的 promise 对象，再调用一次 <code>then</code> 方法即可实现</p>
<p>但是这么多次的调用 <code>then</code> 并不是我们所期望的，相信看过之前生成器的文章的伙伴，已经有了想法。</p>
<p>我们可以利用 <code>async</code> 和 <code>await</code> 配合使用，来简化代码</p>
<p>可以将 <code>await</code> 理解成一个自动执行的 <code>then</code> 方法，这样清晰多了</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">'https://xxx'</span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> reasponse<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">error</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Request Failed'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>最后关于错误对象的获取可以采用 <code>try...catch</code> 来实现</p>
<p>关于 fetch 的更多内容</p>
<p>强烈推荐阮一峰老师的博文：<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2020/12/fetch-tutorial.html">fetch</a></p>
<hr>
<blockquote>
<p> 非常感谢您的阅读，欢迎提出你的意见，有什么问题欢迎指出，谢谢！🎈</p>
</blockquote>
<h2 id="🌮-React-入门学习（十）–-React-路由"><a href="#🌮-React-入门学习（十）–-React-路由" class="headerlink" title="🌮 React 入门学习（十）– React 路由"></a>🌮 React 入门学习（十）– React 路由</h2><h2 id="引言-5"><a href="#引言-5" class="headerlink" title="引言"></a>引言</h2><p>在我们之前写的页面当中，用我们的惯用思维去思考的话，可能会需要写很多的页面，例如做一个 tab 栏，我们可能会想每个选项都要对应一个 HTML 文件，这样会很麻烦，甚至不友好，我们把这种称为 MPA 也叫多页面应用。</p>
<h2 id="🍕-1-SPA"><a href="#🍕-1-SPA" class="headerlink" title="🍕 1. SPA"></a>🍕 1. SPA</h2><p>而为了减少这样的情况，我们还有另一种应用，叫做 SPA ，单页应用程序</p>
<p>它比传统的 Web 应用程序更快，因为它们在 Web 浏览器本身而不是在服务器上执行逻辑。在初始页面加载后，<strong>只有数据来回发送</strong>，而不是整个 HTML，这会降低带宽。它们可以独立请求标记和数据，并直接在浏览器中呈现页面</p>
<h2 id="🍔-2-什么是路由？"><a href="#🍔-2-什么是路由？" class="headerlink" title="🍔 2. 什么是路由？"></a>🍔 2. 什么是路由？</h2><p>路由是根据不同的 URL 地址展示不同的内容或页面</p>
<p>在 SPA 应用中，大部分页面结果不改变，只改变部分内容的使用</p>
<p><strong>前端路由的优缺点</strong></p>
<p><strong>优点</strong></p>
<p>用户体验好，不需要每次都从服务器全部获取整个 HTML，快速展现给用户</p>
<p><strong>缺点</strong></p>
<ol>
<li>SPA 无法记住之前页面滚动的位置，再次回到页面时无法记住滚动的位置</li>
<li>使用浏览器的前进和后退键会重新请求，没有合理利用缓存</li>
</ol>
<h2 id="🍟-3-路由的原理"><a href="#🍟-3-路由的原理" class="headerlink" title="🍟 3. 路由的原理"></a>🍟 3. 路由的原理</h2><p>前端路由的主要依靠的时 history ，也就是浏览器的历史记录</p>
<blockquote>
<p>history 是 BOM 对象下的一个属性，在 H5 中新增了一些操作 history 的 API</p>
</blockquote>
<p>浏览器的历史记录就类似于一个栈的数据结构，前进就相当于入栈，后退就相当于出栈</p>
<p>并且历史记录上可以采用 <code>listen</code> 来监听请求路由的改变，从而判断是否改变路径</p>
<p>在 H5 中新增了 <code>createBrowserHistory</code> 的 API ，用于创建一个 history 栈，允许我们手动操作浏览器的历史记录</p>
<p>新增 API：<code>pushState</code> ，<code>replaceState</code>，原理类似于 Hash 实现。 用 H5 实现，单页路由的 URL 不会多出一个 <code>#</code> 号，这样会更加的美观</p>
<h2 id="🌭-4-路由的基本使用"><a href="#🌭-4-路由的基本使用" class="headerlink" title="🌭 4. 路由的基本使用"></a>🌭 4. 路由的基本使用</h2><h3 id="react-router-dom-的理解和使用"><a href="#react-router-dom-的理解和使用" class="headerlink" title="react-router-dom 的理解和使用"></a>react-router-dom 的理解和使用</h3><blockquote>
<p>专门给 web 人员使用的库</p>
</blockquote>
<ol>
<li>一个 react 的仓库</li>
<li>很常用，基本是每个应用都会使用的这个库</li>
<li>专门来实现 SPA 应用</li>
</ol>
<p>首先我们要明确好页面的布局 ，分好导航区、展示区</p>
<p>要引入 <code>react-router-dom</code> 库，暴露一些属性 <code>Link、BrowserRouter...</code></p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Link<span class="token punctuation">,</span> BrowserRouter<span class="token punctuation">,</span> Route <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
</code></pre>
<p>导航区的 a 标签改为 Link 标签</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Link className<span class="token operator">=</span><span class="token string">"list-group-item"</span> to<span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">></span>About<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
</code></pre>
<p>同时我们需要用 <code>Route</code> 标签，来进行路径的匹配，从而实现不同路径的组件切换</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>About<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">></span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Home<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">></span>
</code></pre>
<p>这样之后我们还需要一步，加个路由器，在上面我们写了两组路由，同时还会报错指示我们需要添加 <code>Router</code> 来解决错误，这就是需要我们添加路由器来管理路由，如果我们在 Link 和 Route 中分别用路由器管理，那这样是实现不了的，只有在一个路由器的管理下才能进行页面的跳转工作。</p>
<p>因此我们也可以在 Link 和 Route 标签的外层标签采用 BrowserRouter 包裹，但是这样当我们的路由过多时，我们要不停的更改标签包裹的位置，因此我们可以这么做</p>
<p>我们回到 App.jsx 目录下的 index.js 文件，将整个 App 组件标签采用 <code>BrowserRouter</code> 标签去包裹，这样整个 App 组件都在<strong>一个路由器</strong>的管理下</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// index.js</span>
<span class="token operator">&lt;</span>BrowserRouter<span class="token operator">></span>
<span class="token operator">&lt;</span> App <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">></span>
</code></pre>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-router.gif" alt="react-router"></p>
<h2 id="🍿-5-路由组件和一般组件"><a href="#🍿-5-路由组件和一般组件" class="headerlink" title="🍿 5. 路由组件和一般组件"></a>🍿 5. 路由组件和一般组件</h2><p>在我们前面的内容中，我们是把组件 Home 和组件 About 当成是一般组件来使用，我们将它们写在了 src 目录下的 components 文件夹下，但是我们又会发现它和普通的组件又有点不同，对于普通组件而言，我们在引入它们的时候我们是通过标签的形式来引用的。但是在上面我们可以看到，我们把它当作路由来引用时，我们是通过 <code>&#123;Home&#125;</code> 来引用的。</p>
<p>从这一点我们就可以认定一般组件和路由组件存在着差异</p>
<p>首先它们的写法不同</p>
<p><strong>一般组件</strong>：<code>&lt;Demo/&gt;</code>，<strong>路由组件</strong>：<code>&lt;Route path=&quot;/demo&quot; component=&#123;Demo&#125;/&gt;</code></p>
<p>同时为了规范我们的书写，一般将路由组件放在 <code>pages</code> 文件夹中，路由组件放在 <code>components</code> </p>
<p>而最重要的一点就是它们接收到的 <code>props</code> 不同，在一般组件中，如果我们不进行传递，就不会收到值。而对于路由组件而言，它会接收到 3 个固定属性 <code>history</code> 、<code>location</code> 以及 <code>match</code> </p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210901142121047.png" alt="image-20210901142121047"></p>
<h2 id="🍛-6-NavLink-标签"><a href="#🍛-6-NavLink-标签" class="headerlink" title="🍛 6. NavLink 标签"></a>🍛 6. NavLink 标签</h2><p>NavLink 标签是和 Link 标签作用相同的，但是它又比 Link 更加强大。</p>
<p>在前面的 demo 展示中，你可能会发现点击的按钮并没有出现高亮的效果，正常情况下我们给标签多添加一个 <code>active</code>  的类就可以实现高亮的效果</p>
<p>而 NavLink 标签正可以帮助我们实现这一步</p>
<p>当我们选中某个 NavLink 标签时，就会自动的在类上添加一个 <code>active</code> 属性</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>NavLink className<span class="token operator">=</span><span class="token string">"list-group-item"</span> to<span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">></span>About<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">></span>
</code></pre>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-router-navlink.gif" alt="react-router-navlink"></p>
<p>我们可以看到左侧的元素类名在不断的切换，当然 NavLink 标签是默认的添加上 <code>active</code> 类，我们也可以改变它，在标签上添加一个属性 <code>activeClassName</code> </p>
<p>例如 <code>activeClassName=&quot;aaa&quot;</code> 在触发这个 NavLink 时，会自动添加一个 <code>aaa</code> 类</p>
<h2 id="🥩-7-NavLink-封装"><a href="#🥩-7-NavLink-封装" class="headerlink" title="🥩 7. NavLink 封装"></a>🥩 7. NavLink 封装</h2><p>在上面的 NavLink 标签种，我们可以发现我们每次都需要重复的去写这些样式名称或者是 <code>activeClassName</code> ，这并不是一个很好的情况，代码过于冗余。那我们是不是可以想想办法封装一下它们呢？</p>
<p>我们可以采用 <code>MyNavLink</code> 组件，对 NavLink 进行封装</p>
<p>首先我们需要新建一个 MyNavLink 组件</p>
<p><code>return</code> 一个结构</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>NavLink className<span class="token operator">=</span><span class="token string">"list-group-item"</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>首先，有一点非常重要的是，我们在标签体内写的内容都会成为一个 <code>children</code> 属性，因此我们在调用 <code>MyNavLink</code> 时，在标签体中写的内容，都会成为 <code>props</code> 中的一部分，从而能够实现</p>
<p>接下来我们在调用时，直接写</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">"/home"</span><span class="token operator">></span>home<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span>
</code></pre>
<p>即可实现相同的效果</p>
<hr>
<p>以上就是本节关于 React 路由的相关知识！</p>
<blockquote>
<p>非常感谢您的阅读，欢迎提出你的意见，有什么问题欢迎指出，谢谢！🎈</p>
</blockquote>
<h2 id="🌮-React-入门学习（十一）–-React-路由传参"><a href="#🌮-React-入门学习（十一）–-React-路由传参" class="headerlink" title="🌮 React 入门学习（十一）– React 路由传参"></a>🌮 React 入门学习（十一）– React 路由传参</h2><h2 id="引言-6"><a href="#引言-6" class="headerlink" title="引言"></a>引言</h2><p>在上一篇中，我们学习了 React 中使用路由技术，以及如何使用 <code>MyNavLink</code> 去优化使用路由时的代码冗余的情况。</p>
<p>这一节我们继续上一篇 React 路由进行一些补充</p>
<h2 id="🍈-1-Switch-解决相同路径问题"><a href="#🍈-1-Switch-解决相同路径问题" class="headerlink" title="🍈 1. Switch 解决相同路径问题"></a>🍈 1. Switch 解决相同路径问题</h2><p>首先我们看一段这样的代码</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Home<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">></span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>About<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">></span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>About<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">></span>
</code></pre>
<p>这是两个路由组件，在2，3行中，我们同时使用了相同的路径 <code>/about</code> </p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210903075753268.png" alt="image-20210903075753268"></p>
<p>我们发现它出现了两个 <code>about</code> 组件的内容，那这是为什么呢？</p>
<p>其实是因为，<code>Route</code> 的机制，当匹配上了第一个 <code>/about</code> 组件后，它还会继续向下匹配，因此会出现两个 About 组件，这时我们可以采用 <code>Switch</code> 组件进行包裹</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Switch<span class="token operator">></span>
    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Home<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">></span>
    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>About<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">></span>
    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>About<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span>
</code></pre>
<p>在使用 <code>Switch</code> 时，我们需要先从 <code>react-router-dom</code> 中暴露出 <code>Switch</code> 组件</p>
<p>这样我们就能成功的解决掉这个问题了</p>
<h2 id="🥟-2-解决二级路由样式丢失的问题"><a href="#🥟-2-解决二级路由样式丢失的问题" class="headerlink" title="🥟 2. 解决二级路由样式丢失的问题"></a>🥟 2. 解决二级路由样式丢失的问题</h2><p>当我们将路径改写成 <code>path=&quot;/ljc/about&quot;</code> 这样的形式时，我们会发现当我们强制刷新页面的时候，页面的 CSS 样式消失了。这是因为，我们在引入样式文件时，采取的是相对路径，当我们使用二级路由的时候，会使得请求的路径发生改变，浏览器会向 <code>localhost:3000/ljc</code> 下请求 css 样式资源，这并不是我们想要的，因为我们的样式存放于公共文件下的 CSS 文件夹中。</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-router-tworouter.gif" alt="react-router-tworouter"></p>
<p>我们有几种方法，可以解决这个问题 </p>
<ol>
<li>将样式引入的路径改成绝对路径</li>
<li>引入样式文件时不带 <code>.</code></li>
<li>使用 HashRouter</li>
</ol>
<p>我们一般采用<strong>第一种方式</strong>去解决</p>
<h2 id="🍑-3-路由的精准匹配和模糊匹配"><a href="#🍑-3-路由的精准匹配和模糊匹配" class="headerlink" title="🍑 3. 路由的精准匹配和模糊匹配"></a>🍑 3. 路由的精准匹配和模糊匹配</h2><p>路由的匹配有两种形式，一种是精准匹配一种是模糊匹配，React 中默认开启的是模糊匹配</p>
<p>模糊匹配可以理解为，在匹配路由时，只要有匹配到的就好了</p>
<p>精准匹配就是，两者必须相同</p>
<p>我们展示一个模糊匹配的例子</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>MyNavLink to <span class="token operator">=</span> <span class="token string">"/home/a/b"</span> <span class="token operator">></span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span>
</code></pre>
<p>这个标签匹配的路由，我们可以拆分成 home a b，将会根据这个先后顺序匹配路由</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home"</span>component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Home<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>就可以匹配到上面的这个路由，因为它匹配的是 home</p>
<p>当匹配的路由改成下面这样时，就会失败。它会按照第一个来匹配，如果第一个没有匹配上，那就会失败，这里的 a 和 home 没有匹配上，很显然会失败</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/a"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Home<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>当我们开启了精准匹配后，就我们的第一种匹配就不会成功，因为精准匹配需要的是完全一样的值，开启精准匹配采用的是 <code>exact</code> 来实现</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Route exact<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token boolean">true</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  path<span class="token operator">=</span><span class="token string">"/home"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Home<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<h2 id="🍋-4-重定向路由"><a href="#🍋-4-重定向路由" class="headerlink" title="🍋 4. 重定向路由"></a>🍋 4. 重定向路由</h2><p>在我们写好了这些之后，我们会发现，我们需要点击任意一个按钮，才会去匹配一个组件，这并不是我们想要的，我们想要页面一加载上来，默认的就能匹配到一个组件。</p>
<p>这个时候我们就需要时候 Redirecrt 进行默认匹配了。</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">"/home"</span> <span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>当我们加上这条语句时，页面找不到指定路径时，就会重定向到 <code>/home</code> 页面下因此当我们请求3000端口时，就会重定向到 <code>/home</code> 这样就能够实现我们想要的效果了</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210904013342960.png" alt="image-20210904013342960"></p>
<h2 id="🍓-5-嵌套路由"><a href="#🍓-5-嵌套路由" class="headerlink" title="🍓 5. 嵌套路由"></a>🍓 5. 嵌套路由</h2><p>嵌套路由也就是我们前面有提及的二级路由，但是嵌套路由包括了二级、三级…还有很多级路由，当我们需要在一个路由组件中添加两个组件，一个是头部，一个是内容区</p>
<p>我们将我们的嵌套内容写在相应的组件里面，这个是在 Home 组件的 return 内容</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>h2<span class="token operator">></span>Home组件内容<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>ul className<span class="token operator">=</span><span class="token string">"nav nav-tabs"</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>li<span class="token operator">></span>
                <span class="token operator">&lt;</span>MyNavLink className<span class="token operator">=</span><span class="token string">"list-group-item"</span> to<span class="token operator">=</span><span class="token string">"/home/news"</span><span class="token operator">></span>News<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
            <span class="token operator">&lt;</span>li<span class="token operator">></span>
                <span class="token operator">&lt;</span>MyNavLink className<span class="token operator">=</span><span class="token string">"list-group-item "</span> to<span class="token operator">=</span><span class="token string">"/home/message"</span><span class="token operator">></span>Message<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>
        <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/* 注册路由 */</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
        <span class="token operator">&lt;</span>Switch<span class="token operator">></span>
            <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home/news"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>News<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home/message"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Message<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
</code></pre>
<p>在这里我们需要使用嵌套路由的方式，才能完成匹配</p>
<p>首先我们得 React 中路由得注册是有顺序得，我们在匹配得时候，因为 Home 组件是先注册得，因此在匹配的时候先去找 home 路由，由于是模糊匹配，会成功的匹配</p>
<p>在 Home 组件里面去匹配相应的路由，从而找到 &#x2F;home&#x2F;news 进行匹配，因此找到 News 组件，进行匹配渲染</p>
<blockquote>
<p>如果开启精确匹配的话，第一步的 <code>/home/news</code> 匹配 <code>/home</code> 就会卡住不动，这个时候就不会显示有用的东西了！</p>
</blockquote>
<h2 id="🍟-6-传递-params-参数"><a href="#🍟-6-传递-params-参数" class="headerlink" title="🍟 6. 传递 params 参数"></a>🍟 6. 传递 params 参数</h2><p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-router-params.gif" alt="react-router-params"></p>
<p>首先我们需要实现的效果是，点击消息列表，展示出消息的详细内容</p>
<p>这个案例实现的方法有三种，第一种就是传递 params 参数，由于我们所显示的数据都是从数据集中取出来的，因此我们需要有数据的传输给 Detail 组件</p>
<p>我们首先需要将详细内容的数据列表，保存在 DetailData 中，将消息列表保存在 Message 的 state 中。</p>
<p>我们可以通过将数据拼接在路由地址末尾来实现数据的传递</p>
<pre class=" language-js"><code class="language-js"> <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token template-string"><span class="token string">`/home/message/detail/$&amp;#123;msgObj.id&amp;#125;/$&amp;#123;msgObj.title&amp;#125;`</span></span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>msgObj<span class="token punctuation">.</span>title<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
</code></pre>
<p>如上，我们将消息列表的 id 和 title 写在了路由地址后面</p>
<blockquote>
<p>这里我们需要注意的是：需要采用模板字符串以及 <code>$</code> 符的方式来进行数据的获取</p>
</blockquote>
<p>在注册路由时，我们可以通过 <code>:数据名</code> 来接收数据</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home/message/detail/:id/:title"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Detail<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>如上，使用了 <code>:id/:title</code> 成功的接收了由 Link 传递过来的 id 和 title 数据</p>
<p>这样我们既成功的实现了路由的跳转，又将需要获取的数据传递给了 Detail 组件</p>
<p>我们在 Detail 组件中打印 <code>this.props</code> 来查看当前接收的数据情况</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210906153042353.png" alt="image-20210906153042353"></p>
<p>我们可以发现，我们传递的数据被接收到了对象的 match 属性下的 params 中</p>
<p>因此我们可以在 Detail 组件中获取到又 Message 组件中传递来的 params 数据</p>
<p>并通过 params 数据中的 <code>id</code> 值，在详细内容的数据集中查找出指定 <code>id</code> 的详细内容</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> id<span class="token punctuation">,</span> title <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params
<span class="token keyword">const</span> findResult <span class="token operator">=</span> DetailData<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>detailObj<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> detailObj<span class="token punctuation">.</span>id <span class="token operator">===</span> id
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
</code></pre>
<p>最后渲染数据即可</p>
<h2 id="🍀-7-传递-search-参数"><a href="#🍀-7-传递-search-参数" class="headerlink" title="🍀 7. 传递 search 参数"></a>🍀 7. 传递 search 参数</h2><p>我们还可以采用传递 search 参数的方法来实现</p>
<p>首先我们先确定数据传输的方式</p>
<p>我们先在 Link 中采用 <code>?</code> 符号的方式来表示后面的为可用数据</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token template-string"><span class="token string">`/home/message/detail/?id=$&amp;#123;msgObj.id&amp;#125;&amp;title=$&amp;#123;msgObj.title&amp;#125;`</span></span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>msgObj<span class="token punctuation">.</span>title<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
</code></pre>
<p>采用 <code>search</code> 传递的方式，无需在 Route 中再次声明，可以在 Detail 组件中直接获取到</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210906155217647.png" alt="image-20210906155217647"></p>
<p>我们可以发现，我们的数据保存在了 <code>location</code> 对象下的 <code>search</code> 中，是一种字符串的形式保存的，我们可以引用一个库来进行转化 <code>querystring</code></p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> qs <span class="token keyword">from</span> <span class="token string">'querystring'</span>
</code></pre>
<p>这个库是 React 中自带有的，它有两个方法，一个是 <code>parse</code> 一个是 <code>stringify</code> </p>
<p>我们可以采用 <code>parse</code> 方法，将字符串转化为键值对形式的对象</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> search <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location
<span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> id<span class="token punctuation">,</span> title <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> qs<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>search<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>这样我们就能成功的获取数据，并进行渲染</p>
<blockquote>
<p>tips：无需声明接收</p>
</blockquote>
<h2 id="🌷-8-传递-state-参数"><a href="#🌷-8-传递-state-参数" class="headerlink" title="🌷 8. 传递 state 参数"></a>🌷 8. 传递 state 参数</h2><p>采用传递 state 参数的方法，是我觉得最完美的一种方法，因为它不会将数据携带到地址栏上，采用内部的状态来维护</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> pathname<span class="token punctuation">:</span> <span class="token string">'/home/message/detail'</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> id<span class="token punctuation">:</span> msgObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span> title<span class="token punctuation">:</span> msgObj<span class="token punctuation">.</span>title <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>msgObj<span class="token punctuation">.</span>title<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
</code></pre>
<p>首先，我们需要在 Link 中注册跳转时，传递一个路由对象，包括一个 跳转地址名，一个 state 数据，这样我们就可以在 Detail 组件中获取到这个传递的 state 数据</p>
<blockquote>
<p>注意：采用这种方式传递，无需声明接收</p>
</blockquote>
<p>我们可以在 Detail 组件中的 location 对象下的 state 中取出我们所传递的数据</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> id<span class="token punctuation">,</span> title <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>state
</code></pre>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210906160940033.png" alt="image-20210906160940033"></p>
<p>直接使用即可~</p>
<p>解决清除缓存造成报错的问题，我们可以在获取不到数据的时候用空对象来替代，例如，</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> id<span class="token punctuation">,</span> title <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>state <span class="token operator">||</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>当获取不到 <code>state</code> 时，则用空对象代替</p>
<blockquote>
<p>这里的 state 和状态里的 state 有所不同</p>
</blockquote>
<hr>
<blockquote>
<p>非常感谢您的阅读，欢迎提出你的意见，有什么问题欢迎指出，谢谢！🎈</p>
</blockquote>
<h2 id="🌮-React-入门学习（十二）–-React-路由跳转"><a href="#🌮-React-入门学习（十二）–-React-路由跳转" class="headerlink" title="🌮 React 入门学习（十二）– React 路由跳转"></a>🌮 React 入门学习（十二）– React 路由跳转</h2><h2 id="1-push-与-replace-模式"><a href="#1-push-与-replace-模式" class="headerlink" title="1. push 与 replace 模式"></a>1. push 与 replace 模式</h2><p>默认情况下，开启的是 push 模式，也就是说，每次点击跳转，都会向栈中压入一个新的地址，在点击返回时，可以返回到上一个打开的地址，</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-router-push.gif" alt="react-router-push"></p>
<p>就像上图一样，我们每次返回都会返回到上一次点击的地址中</p>
<p>当我们在读消息的时候，有时候我们可能会不喜欢这种繁琐的跳转，我们可以开启 replace 模式，这种模式与 push 模式不同，它会将当前地址<strong>替换</strong>成点击的地址，也就是替换了新的栈顶</p>
<p>我们只需要在需要开启的链接上加上 <code>replace</code> 即可</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Link replace to<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> pathname<span class="token punctuation">:</span> <span class="token string">'/home/message/detail'</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> id<span class="token punctuation">:</span> msgObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span> title<span class="token punctuation">:</span> msgObj<span class="token punctuation">.</span>title <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>msgObj<span class="token punctuation">.</span>title<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
</code></pre>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-router-replace.gif" alt="react-router-replace"></p>
<h2 id="2-编程式路由导航"><a href="#2-编程式路由导航" class="headerlink" title="2. 编程式路由导航"></a>2. 编程式路由导航</h2><p>我们可以采用绑定事件的方式实现路由的跳转，我们在按钮上绑定一个 <code>onClick</code> 事件，当事件触发时，我们执行一个回调 <code>replaceShow</code> </p>
<p>这个函数接收两个参数，用来仿制默认的跳转方式，第一个是点击的 id 第二个是标题</p>
<p>我们在回调中，调用 <code>this.props.location</code> 对象下的 replace 方法</p>
<pre class=" language-js"><code class="language-js">replaceShow <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token punctuation">,</span> title<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`/home/message/detail/$&amp;#123;id&amp;#125;/$&amp;#123;title&amp;#125;`</span></span><span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>同时我们可以借助 <code>this.props.history</code> 身上的 API 实现路由的跳转，例如 <code>go</code>、<code>goBack</code> 、<code>goForward</code></p>
<h2 id="3-withRouter"><a href="#3-withRouter" class="headerlink" title="3. withRouter"></a>3. withRouter</h2><p>当我们需要在页面内部添加回退前进等按钮时，由于这些组件我们一般通过一般组件的方式去编写，因此我们会遇到一个问题，<strong>无法获得 history 对象</strong>，这正是因为我们采用的是一般组件造成的。</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210906231051190.png" alt="image-20210906231051190"></p>
<p>只有路由组件才能获取到 history 对象</p>
<p>因此我们需要如何解决这个问题呢</p>
<p>我们可以利用 <code>react-router-dom</code> 对象下的 <code>withRouter</code> 函数来对我们导出的 <code>Header</code> 组件进行包装，这样我们就能获得一个拥有 <code>history</code> 对象的一般组件</p>
<p>我们需要对哪个组件包装就在哪个组件下引入</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// Header/index.jsx</span>
<span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> withRouter <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
<span class="token comment" spellcheck="true">// 在最后导出对象时，用 `withRouter` 函数对 index 进行包装</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>这样就能让一般组件获得路由组件所特有的 API</p>
<h2 id="4-BrowserRouter-和-HashRouter-的区别"><a href="#4-BrowserRouter-和-HashRouter-的区别" class="headerlink" title="4. BrowserRouter 和 HashRouter 的区别"></a>4. BrowserRouter 和 HashRouter 的区别</h2><h4 id="它们的底层实现原理不一样"><a href="#它们的底层实现原理不一样" class="headerlink" title="它们的底层实现原理不一样"></a><strong>它们的底层实现原理不一样</strong></h4><p>对于 BrowserRouter 来说它使用的是 React 为它封装的 history API ，这里的 history 和浏览器中的 history 有所不同噢！通过操作这些 API 来实现路由的保存等操作，但是这些 API 是 H5 中提出的，因此不兼容 IE9 以下版本。</p>
<p>对于 HashRouter 而言，它实现的原理是通过 URL 的哈希值，但是这句话我不是很理解，用一个简单的解释就是</p>
<p>我们可以理解为是锚点跳转，因为锚点跳转会保存历史记录，从而让 HashRouter 有了相关的前进后退操作，HashRouter 不会将 <code>#</code> 符号后面的内容请求。兼容性更好！</p>
<h4 id="地址栏的表现形式不一样"><a href="#地址栏的表现形式不一样" class="headerlink" title="地址栏的表现形式不一样"></a>地址栏的表现形式不一样</h4><ul>
<li>HashRouter 的路径中包含 <code>#</code> ，例如 <code>localhost:3000/#/demo/test</code></li>
</ul>
<h4 id="刷新后路由-state-参数改变"><a href="#刷新后路由-state-参数改变" class="headerlink" title="刷新后路由 state 参数改变"></a>刷新后路由 state 参数改变</h4><ol>
<li>在BrowserRouter 中，state 保存在history 对象中，刷新不会丢失</li>
<li>HashRouter 则刷新会丢失 state</li>
</ol>
<h2 id="React-入门学习（十三）–-antd-组件库的基本使用"><a href="#React-入门学习（十三）–-antd-组件库的基本使用" class="headerlink" title="React 入门学习（十三）– antd 组件库的基本使用"></a>React 入门学习（十三）– antd 组件库的基本使用</h2><h2 id="引言-7"><a href="#引言-7" class="headerlink" title="引言"></a>引言</h2><p>在我们学习<code> JavaScript</code> 的时候，我们学习了一个 <code>bootstrap</code> 的组件库。可以让我们快速开发，但是我们现在学习了 React ，一种组件化编程方式，很少说会去贴大量的 HTML 代码，再配一下 CSS，JS。我们也有一些现成的组件库可以使用，我们只需要写一个组件标签即可调用。这让我们 React 开发变得十分的快速，方便和整洁。</p>
<p>我们这里学习的是 <code>Ant-design</code> （应该是这样），它有很多的组件供我们使用</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210907180731157.png" alt="image-20210907180731157"></p>
<p>按钮，日历，这些都是非常常用的组件，我们一起看看如何使用吧</p>
<h2 id="1-Antd-组件基本使用"><a href="#1-Antd-组件基本使用" class="headerlink" title="1. Antd 组件基本使用"></a>1. Antd 组件基本使用</h2><p>使用 <code>Antd</code> 组件非常的简单</p>
<p>引包 —– 暴露 —- 使用</p>
<p>首先我们通过组件库来实现一个简单的按钮</p>
<h4 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h4><p>安装并引入 <code>antd</code> 包</p>
<p>使用命令下载这个组件库</p>
<pre class=" language-shell"><code class="language-shell">yarn add antd
</code></pre>
<p>在我们需要使用的文件下引入，我这里是在 <code>App.jsx</code> 内引入</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Button <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'antd'</span>
</code></pre>
<p>在引入的同时，暴露出要使用的组件名 <code>Button</code></p>
<p>推荐去<a target="_blank" rel="noopener" href="https://ant.design/components/button-cn/">官方文档</a>查看，都会有代码解释</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210907181354552.png" alt="image-20210907181354552"></p>
<p>现在我们可以在 App 中使用 <code>Button</code> 组件</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>div<span class="token operator">></span>
    App<span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token operator">&lt;</span>Button type<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>Primary Button<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
    <span class="token operator">&lt;</span>Button<span class="token operator">></span>Default Button<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
    <span class="token operator">&lt;</span>Button type<span class="token operator">=</span><span class="token string">"dashed"</span><span class="token operator">></span>Dashed Button<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
    <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>Button type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">></span>Text Button<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
    <span class="token operator">&lt;</span>Button type<span class="token operator">=</span><span class="token string">"link"</span><span class="token operator">></span>Link Button<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
</code></pre>
<p>我这里使用了几种按钮</p>
<p>但是就这样你会发现按钮少了样式</p>
<p>我们还需要引入 <code>antd</code> 的 CSS 文件</p>
<pre class=" language-js"><code class="language-js">@<span class="token keyword">import</span> <span class="token string">'/node_modules/antd/dist/antd.less'</span><span class="token punctuation">;</span>
</code></pre>
<p>可以在 <code>node_modules</code> 文件中的 <code>antd</code> 目录下的 <code>dist</code> 文件夹中找到相应的样式文件，引入即可</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210907181854774.png" alt="image-20210907181854774"></p>
<p>即可成功引入 <code>antd</code> 组件</p>
<h2 id="2-自定义主题颜色"><a href="#2-自定义主题颜色" class="headerlink" title="2. 自定义主题颜色"></a>2. 自定义主题颜色</h2><p>由于这些组件采用的颜色，都是支付宝蓝，有时候我们不想要这样的颜色，想要用其他的配色，这当然是可以实现的，我们需要引用一些库和更改一些配置文件来实现</p>
<p>在视频中，老师讲解的是 <code>3.几</code> 版本中的实现方法，这种方法需要去暴露 React 中的配置文件，这种操作是不可返回的，一旦暴露就不可回收。我觉得这不是一个好方法~</p>
<p>在 <code>antd</code> 最新版中，引入了 <code>craco</code> 库，我们可以使用 <code>craco</code> 来实现自定义的效果</p>
<p>首先我们需要安装 <code>craco</code> </p>
<pre class=" language-shell"><code class="language-shell">yarn add @craco/craco
</code></pre>
<p>同时我们需要更改 <code>package.json</code> 中的启动文件</p>
<pre class=" language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> &amp;#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"craco start"</span><span class="token punctuation">,</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"craco build"</span><span class="token punctuation">,</span>
  <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"craco test"</span><span class="token punctuation">,</span>
  <span class="token property">"eject"</span><span class="token operator">:</span> <span class="token string">"react-scripts eject"</span>
&amp;#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
</code></pre>
<p>更改成 <code>craco</code> 执行</p>
<p>接下来我们需要在根目录下新建一个 <code>craco.config.js</code> 文件，用于配置自定义内容</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> CracoLessPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'craco-less'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
      plugin<span class="token punctuation">:</span> CracoLessPlugin<span class="token punctuation">,</span>
      options<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        lessLoaderOptions<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
          lessOptions<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            modifyVars<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token string">'@primary-color'</span><span class="token punctuation">:</span> <span class="token string">'skyblue'</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
            javascriptEnabled<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
      <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
</code></pre>
<p>其实它就是用来操作 <code>less</code> 文件的全局颜色</p>
<p>简单的说，<code>antd</code> 组件是采用 <code>less</code> 编写的，我们需要通过重新配置的方式去更改它的值</p>
<p>同时我们需要将我们先前的 <code>App.css</code> 文件更改为 <code>App.less</code> 文件，在当中引入我们的 <code>less</code> 文件</p>
<pre class=" language-js"><code class="language-js">@<span class="token keyword">import</span> <span class="token string">'/node_modules/antd/dist/antd.less'</span><span class="token punctuation">;</span>
</code></pre>
<p>注意一定要添加<strong>分号结尾</strong>，这是一个非常容易犯的错误</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210907200116517.png" alt="image-20210907200116517"></p>
<p>可见，我们成功的将主题色修改成了红色</p>
<blockquote>
<p>antd ui组件库就记这么多，还有样式的按需引入没有记录，不太喜好暴露 React 配置文件…</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://zyydgrbk.top">邹阳</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://zyydgrbk.top/2023/08/16/react-xue-xi/">http://zyydgrbk.top/2023/08/16/react-xue-xi/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://zyydgrbk.top" target="_blank">邹阳 の 博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a></div><div class="post_share"><div class="social-share" data-image="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/01d59958d20fd2a801219c77f1d73b.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/16/react-xue-xi-er/" title="react学习二"><img class="cover" src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/0128be58d20fc3a801219c77e6ff8e.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">react学习二</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/15/zhang-kong-xi-guan-yue-du-bi-ji/" title="掌控习惯阅读笔记"><img class="cover" src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/016c6058d20fc3a801219c7727314f.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">掌控习惯阅读笔记</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/08/10/http-jie-kou-ping-tai-kai-fa/" title="http接口平台开发"><img class="cover" src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/0121d458d20fb3a801219c77ae2613.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-10</div><div class="title">http接口平台开发</div></div></a></div><div><a href="/2023/09/13/js-shen-ru-ife-baidu-com/" title="js深入-ife.baidu.com"><img class="cover" src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/Snipaste_2023-08-17_17-10-46.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-13</div><div class="title">js深入-ife.baidu.com</div></div></a></div><div><a href="/2023/09/02/nodejs/" title="nodejs"><img class="cover" src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/Snipaste_2023-08-17_17-10-26.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-02</div><div class="title">nodejs</div></div></a></div><div><a href="/2023/08/17/react-jiao-shou-jia-pei-zhi-dai-li-zong-jie/" title="react脚手架配置代理总结"><img class="cover" src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/Snipaste_2023-08-17_17-09-32.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-17</div><div class="title">react脚手架配置代理总结</div></div></a></div><div><a href="/2023/08/17/xie-lian-shou-xiang-mu-shi-yu-jian-de-wen-ti/" title="写练手项目时遇见的问题"><img class="cover" src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/Snipaste_2023-08-17_17-09-45.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-17</div><div class="title">写练手项目时遇见的问题</div></div></a></div><div><a href="/2023/09/26/hou-duan-wen-jian-shang-chuan/" title="后端文件上传"><img class="cover" src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/Snipaste_2023-09-26_19-44-45.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-26</div><div class="title">后端文件上传</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/nobackground.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">邹阳</div><div class="author-info__description">Being happy is a duty!</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">70</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/"><i class="fab fa-github"></i><span>My github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/" target="_blank" title="Github"><i class="fab fa-github" style="color: #hdhfbb;"></i></a><a class="social-icon" href="mailto:zouyang159536@163.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #000000;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#react%E5%AD%A6%E4%B9%A0%E8%B7%AF%E5%BE%84"><span class="toc-number">1.</span> <span class="toc-text">react学习路径</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#React-%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F%EF%BC%88%E4%B8%80%EF%BC%89%E2%80%93-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E4%BB%A5%E5%8F%8A-jsx-%E8%AF%AD%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">React 从入门到入土（一）– 基础知识以及 jsx 语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81React-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.2.</span> <span class="toc-text">一、React 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%85%B3%E4%BA%8E-React"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. 关于 React</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Hello-React"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. Hello React</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%99%9A%E6%8B%9F-DOM-%E5%92%8C%E7%9C%9F%E5%AE%9E-DOM-%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. 虚拟 DOM 和真实 DOM 的两种创建方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-JS-%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F-DOM"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">3.1 JS 创建虚拟 DOM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-Jsx-%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9FDOM"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">3.2 Jsx 创建虚拟DOM</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81jsx-%E8%AF%AD%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">二、jsx 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%B3%A8%E9%87%8A"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">1. 注释</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%95%B0%E7%BB%84"><span class="toc-number">1.3.0.2.</span> <span class="toc-text">2. 数组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tip-JSX-%E5%B0%8F%E7%BB%83%E4%B9%A0"><span class="toc-number">1.3.1.</span> <span class="toc-text">tip: JSX 小练习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F%EF%BC%88%E4%BA%8C%EF%BC%89%E2%80%93-%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B"><span class="toc-number">1.4.</span> <span class="toc-text">React 从入门到入土（二）– 面向组件编程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.</span> <span class="toc-text">一、组件的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BB%84%E4%BB%B6"><span class="toc-number">1.5.1.</span> <span class="toc-text">1. 函数式组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%B1%BB%E5%BC%8F%E7%BB%84%E4%BB%B6"><span class="toc-number">1.5.2.</span> <span class="toc-text">2. 类式组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%85%B6%E4%BB%96%E7%9F%A5%E8%AF%86"><span class="toc-number">1.5.3.</span> <span class="toc-text">3. 其他知识</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B%E4%B8%89%E5%A4%A7%E5%B1%9E%E6%80%A7"><span class="toc-number">1.6.</span> <span class="toc-text">二、组件实例三大属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-state"><span class="toc-number">1.6.1.</span> <span class="toc-text">1. state</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-props"><span class="toc-number">1.6.2.</span> <span class="toc-text">2. props</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-refs"><span class="toc-number">1.6.3.</span> <span class="toc-text">3. refs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">1.6.4.</span> <span class="toc-text">4. 事件处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-number">1.7.</span> <span class="toc-text">三、高阶函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%89%EF%BC%89-%E2%80%93-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F-LifeCycle"><span class="toc-number">1.8.</span> <span class="toc-text">React 入门（三） – 生命周期 LifeCycle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80"><span class="toc-number">1.9.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.10.</span> <span class="toc-text">React 生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%98%B6%E6%AE%B5"><span class="toc-number">1.10.1.</span> <span class="toc-text">初始化阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-constructor-%E6%89%A7%E8%A1%8C"><span class="toc-number">1.10.1.1.</span> <span class="toc-text">1. constructor 执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-static-getDerivedStateFromProps-%E6%89%A7%E8%A1%8C-%EF%BC%88%E6%96%B0%E9%92%A9%E5%AD%90%EF%BC%89"><span class="toc-number">1.10.1.2.</span> <span class="toc-text">2. static getDerivedStateFromProps 执行 （新钩子）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-componentWillMount-%E6%89%A7%E8%A1%8C%EF%BC%88%E5%8D%B3%E5%B0%86%E5%BA%9F%E5%BC%83%EF%BC%89"><span class="toc-number">1.10.1.3.</span> <span class="toc-text">2. componentWillMount 执行（即将废弃）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-render-%E6%89%A7%E8%A1%8C"><span class="toc-number">1.10.1.4.</span> <span class="toc-text">3. render 执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-componentDidMount-%E6%89%A7%E8%A1%8C"><span class="toc-number">1.10.1.5.</span> <span class="toc-text">4. componentDidMount 执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93"><span class="toc-number">1.10.1.6.</span> <span class="toc-text">初始化阶段总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E9%98%B6%E6%AE%B5"><span class="toc-number">1.10.2.</span> <span class="toc-text">更新阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-getDerivedStateFromProps-%E6%89%A7%E8%A1%8C"><span class="toc-number">1.10.2.1.</span> <span class="toc-text">1. getDerivedStateFromProps 执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-shouldComponentUpdat-%E6%89%A7%E8%A1%8C"><span class="toc-number">1.10.2.2.</span> <span class="toc-text">2. shouldComponentUpdat 执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-render-%E6%89%A7%E8%A1%8C-1"><span class="toc-number">1.10.2.3.</span> <span class="toc-text">3. render 执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-getSnapshotBeforeUpdate-%E6%89%A7%E8%A1%8C"><span class="toc-number">1.10.2.4.</span> <span class="toc-text">4. getSnapshotBeforeUpdate 执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-componentDidUpdate-%E6%89%A7%E8%A1%8C"><span class="toc-number">1.10.2.5.</span> <span class="toc-text">5. componentDidUpdate 执行</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%80%E6%AF%81%E9%98%B6%E6%AE%B5"><span class="toc-number">1.10.3.</span> <span class="toc-text">销毁阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#componentWillUnmount-%E6%89%A7%E8%A1%8C"><span class="toc-number">1.10.3.1.</span> <span class="toc-text">componentWillUnmount  执行</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.11.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%9B%9B%EF%BC%89%E2%80%93-diffing-%E7%AE%97%E6%B3%95"><span class="toc-number">1.12.</span> <span class="toc-text">React入门学习（四）– diffing 算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.13.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%99%9A%E6%8B%9F-DOM-%EF%BC%9F"><span class="toc-number">1.14.</span> <span class="toc-text">什么是虚拟 DOM ？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-diff-%E7%AE%97%E6%B3%95%EF%BC%9F"><span class="toc-number">1.15.</span> <span class="toc-text">什么是 diff 算法？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E4%B8%AA%E7%AD%96%E7%95%A5"><span class="toc-number">1.16.</span> <span class="toc-text">三个策略</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tree-diff-%E5%88%86%E5%B1%82%E6%B1%82%E5%BC%82"><span class="toc-number">1.16.1.</span> <span class="toc-text">tree diff 分层求异</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#component-diff"><span class="toc-number">1.16.2.</span> <span class="toc-text">component diff</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#element-diff"><span class="toc-number">1.16.3.</span> <span class="toc-text">element diff</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BB%BA%E8%AE%AE"><span class="toc-number">1.17.</span> <span class="toc-text">建议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">1.18.</span> <span class="toc-text">参考资料</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%94%EF%BC%89%E2%80%93-%E8%AE%A4%E8%AF%86%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-number">1.19.</span> <span class="toc-text">React 入门学习（五）– 认识脚手架</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.20.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%95-1-%E4%BB%80%E4%B9%88%E6%98%AF-React-%E8%84%9A%E6%89%8B%E6%9E%B6%EF%BC%9F"><span class="toc-number">1.21.</span> <span class="toc-text">🍕 1. 什么是 React 脚手架？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%94-2-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8%E8%84%9A%E6%89%8B%E6%9E%B6%EF%BC%9F"><span class="toc-number">1.22.</span> <span class="toc-text">🍔 2. 为什么要用脚手架？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%9F-3-%E6%80%8E%E4%B9%88%E7%94%A8-React-%E8%84%9A%E6%89%8B%E6%9E%B6%EF%BC%9F"><span class="toc-number">1.23.</span> <span class="toc-text">🍟 3. 怎么用 React 脚手架？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85-React-%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-number">1.23.1.</span> <span class="toc-text">1. 安装 React 脚手架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%84%9A%E6%89%8B%E6%9E%B6%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">1.23.2.</span> <span class="toc-text">2. 脚手架项目结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%85%AD%EF%BC%89%E2%80%93-TodoList-%E6%A1%88%E4%BE%8B"><span class="toc-number">1.24.</span> <span class="toc-text">React 入门学习（六）– TodoList 案例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80-1"><span class="toc-number">1.25.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%8B%86%E5%88%86%E7%BB%84%E4%BB%B6"><span class="toc-number">1.26.</span> <span class="toc-text">一、拆分组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%9E%E7%8E%B0%E9%9D%99%E6%80%81%E7%BB%84%E4%BB%B6"><span class="toc-number">1.27.</span> <span class="toc-text">二、实现静态组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6"><span class="toc-number">1.28.</span> <span class="toc-text">三、实现动态组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8D%8E-1-%E5%8A%A8%E6%80%81%E5%B1%95%E7%A4%BA%E5%88%97%E8%A1%A8"><span class="toc-number">1.28.1.</span> <span class="toc-text">🍎 1. 动态展示列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8D%8D-2-%E6%B7%BB%E5%8A%A0%E4%BA%8B%E9%A1%B9%E5%8A%9F%E8%83%BD"><span class="toc-number">1.28.2.</span> <span class="toc-text">🍍 2. 添加事项功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8D%8B-3-%E5%AE%9E%E7%8E%B0%E9%BC%A0%E6%A0%87%E6%82%AC%E6%B5%AE%E6%95%88%E6%9E%9C"><span class="toc-number">1.28.3.</span> <span class="toc-text">🍋 3. 实现鼠标悬浮效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8D%89-4-%E5%A4%8D%E9%80%89%E6%A1%86%E7%8A%B6%E6%80%81%E7%BB%B4%E6%8A%A4"><span class="toc-number">1.28.4.</span> <span class="toc-text">🍉 4. 复选框状态维护</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8D%8F-5-%E9%99%90%E5%88%B6%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.28.5.</span> <span class="toc-text">🍏 5. 限制参数类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8D%92-6-%E5%88%A0%E9%99%A4%E6%8C%89%E9%92%AE"><span class="toc-number">1.28.6.</span> <span class="toc-text">🍒 6. 删除按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8D%93-7-%E8%8E%B7%E5%8F%96%E5%AE%8C%E6%88%90%E6%95%B0%E9%87%8F"><span class="toc-number">1.28.7.</span> <span class="toc-text">🍓 7. 获取完成数量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8D%8A-8-%E5%85%A8%E9%80%89%E6%8C%89%E9%92%AE"><span class="toc-number">1.28.8.</span> <span class="toc-text">🍊 8. 全选按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%A5%AD-9-%E5%88%A0%E9%99%A4%E5%B7%B2%E5%AE%8C%E6%88%90"><span class="toc-number">1.28.9.</span> <span class="toc-text">🥭 9. 删除已完成</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">1.29.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%83%EF%BC%89%E2%80%93-%E8%84%9A%E6%89%8B%E6%9E%B6%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86"><span class="toc-number">1.30.</span> <span class="toc-text">React 入门学习（七）– 脚手架配置代理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%95%E8%A8%80-2"><span class="toc-number">2.</span> <span class="toc-text">引言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86"><span class="toc-number">2.1.</span> <span class="toc-text">1. 全局代理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%8D%95%E7%8B%AC%E9%85%8D%E7%BD%AE"><span class="toc-number">2.2.</span> <span class="toc-text">2. 单独配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%85%AB%EF%BC%89%E2%80%93-GitHub-%E6%90%9C%E7%B4%A2%E6%A1%88%E4%BE%8B"><span class="toc-number">2.3.</span> <span class="toc-text">React 入门学习（八）– GitHub 搜索案例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80-3"><span class="toc-number">2.4.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%9E%E7%8E%B0%E9%9D%99%E6%80%81%E7%BB%84%E4%BB%B6"><span class="toc-number">2.5.</span> <span class="toc-text">一、实现静态组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81axios-%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82"><span class="toc-number">2.6.</span> <span class="toc-text">二、axios 发送请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE"><span class="toc-number">2.7.</span> <span class="toc-text">三、渲染数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%A2%9E%E5%8A%A0%E4%BA%A4%E4%BA%92"><span class="toc-number">2.8.</span> <span class="toc-text">四、增加交互</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B9%9D%EF%BC%89%E2%80%93-%E6%B6%88%E6%81%AF%E8%AE%A2%E9%98%85%E5%8F%91%E5%B8%83"><span class="toc-number">2.9.</span> <span class="toc-text">React 入门学习（九）– 消息订阅发布</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80-4"><span class="toc-number">2.10.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B6%88%E6%81%AF%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85"><span class="toc-number">2.11.</span> <span class="toc-text">消息发布订阅</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95-%E2%80%93-Fetch"><span class="toc-number">2.12.</span> <span class="toc-text">扩展 – Fetch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%AE-React-%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%8D%81%EF%BC%89%E2%80%93-React-%E8%B7%AF%E7%94%B1"><span class="toc-number">2.13.</span> <span class="toc-text">🌮 React 入门学习（十）– React 路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80-5"><span class="toc-number">2.14.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%95-1-SPA"><span class="toc-number">2.15.</span> <span class="toc-text">🍕 1. SPA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%94-2-%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%AF%E7%94%B1%EF%BC%9F"><span class="toc-number">2.16.</span> <span class="toc-text">🍔 2. 什么是路由？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%9F-3-%E8%B7%AF%E7%94%B1%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">2.17.</span> <span class="toc-text">🍟 3. 路由的原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%AD-4-%E8%B7%AF%E7%94%B1%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">2.18.</span> <span class="toc-text">🌭 4. 路由的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#react-router-dom-%E7%9A%84%E7%90%86%E8%A7%A3%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-number">2.18.1.</span> <span class="toc-text">react-router-dom 的理解和使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%BF-5-%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E5%92%8C%E4%B8%80%E8%88%AC%E7%BB%84%E4%BB%B6"><span class="toc-number">2.19.</span> <span class="toc-text">🍿 5. 路由组件和一般组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%9B-6-NavLink-%E6%A0%87%E7%AD%BE"><span class="toc-number">2.20.</span> <span class="toc-text">🍛 6. NavLink 标签</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%A5%A9-7-NavLink-%E5%B0%81%E8%A3%85"><span class="toc-number">2.21.</span> <span class="toc-text">🥩 7. NavLink 封装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%AE-React-%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89%E2%80%93-React-%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82"><span class="toc-number">2.22.</span> <span class="toc-text">🌮 React 入门学习（十一）– React 路由传参</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80-6"><span class="toc-number">2.23.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%88-1-Switch-%E8%A7%A3%E5%86%B3%E7%9B%B8%E5%90%8C%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="toc-number">2.24.</span> <span class="toc-text">🍈 1. Switch 解决相同路径问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%A5%9F-2-%E8%A7%A3%E5%86%B3%E4%BA%8C%E7%BA%A7%E8%B7%AF%E7%94%B1%E6%A0%B7%E5%BC%8F%E4%B8%A2%E5%A4%B1%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">2.25.</span> <span class="toc-text">🥟 2. 解决二级路由样式丢失的问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%91-3-%E8%B7%AF%E7%94%B1%E7%9A%84%E7%B2%BE%E5%87%86%E5%8C%B9%E9%85%8D%E5%92%8C%E6%A8%A1%E7%B3%8A%E5%8C%B9%E9%85%8D"><span class="toc-number">2.26.</span> <span class="toc-text">🍑 3. 路由的精准匹配和模糊匹配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%8B-4-%E9%87%8D%E5%AE%9A%E5%90%91%E8%B7%AF%E7%94%B1"><span class="toc-number">2.27.</span> <span class="toc-text">🍋 4. 重定向路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%93-5-%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="toc-number">2.28.</span> <span class="toc-text">🍓 5. 嵌套路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%9F-6-%E4%BC%A0%E9%80%92-params-%E5%8F%82%E6%95%B0"><span class="toc-number">2.29.</span> <span class="toc-text">🍟 6. 传递 params 参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%80-7-%E4%BC%A0%E9%80%92-search-%E5%8F%82%E6%95%B0"><span class="toc-number">2.30.</span> <span class="toc-text">🍀 7. 传递 search 参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%B7-8-%E4%BC%A0%E9%80%92-state-%E5%8F%82%E6%95%B0"><span class="toc-number">2.31.</span> <span class="toc-text">🌷 8. 传递 state 参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%AE-React-%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89%E2%80%93-React-%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC"><span class="toc-number">2.32.</span> <span class="toc-text">🌮 React 入门学习（十二）– React 路由跳转</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-push-%E4%B8%8E-replace-%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.33.</span> <span class="toc-text">1. push 与 replace 模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA"><span class="toc-number">2.34.</span> <span class="toc-text">2. 编程式路由导航</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-withRouter"><span class="toc-number">2.35.</span> <span class="toc-text">3. withRouter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-BrowserRouter-%E5%92%8C-HashRouter-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.36.</span> <span class="toc-text">4. BrowserRouter 和 HashRouter 的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%83%E4%BB%AC%E7%9A%84%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E4%B8%8D%E4%B8%80%E6%A0%B7"><span class="toc-number">2.36.0.1.</span> <span class="toc-text">它们的底层实现原理不一样</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E6%A0%8F%E7%9A%84%E8%A1%A8%E7%8E%B0%E5%BD%A2%E5%BC%8F%E4%B8%8D%E4%B8%80%E6%A0%B7"><span class="toc-number">2.36.0.2.</span> <span class="toc-text">地址栏的表现形式不一样</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%B7%E6%96%B0%E5%90%8E%E8%B7%AF%E7%94%B1-state-%E5%8F%82%E6%95%B0%E6%94%B9%E5%8F%98"><span class="toc-number">2.36.0.3.</span> <span class="toc-text">刷新后路由 state 参数改变</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89%E2%80%93-antd-%E7%BB%84%E4%BB%B6%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">2.37.</span> <span class="toc-text">React 入门学习（十三）– antd 组件库的基本使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80-7"><span class="toc-number">2.38.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Antd-%E7%BB%84%E4%BB%B6%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">2.39.</span> <span class="toc-text">1. Antd 组件基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5"><span class="toc-number">2.39.0.1.</span> <span class="toc-text">第一步</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%BB%E9%A2%98%E9%A2%9C%E8%89%B2"><span class="toc-number">2.40.</span> <span class="toc-text">2. 自定义主题颜色</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/12/03/neuralcoref-de-an-zhuang-yu-shi-yong/" title="neuralcoref的安装与使用"><img src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/Snipaste_2023-11-10_10-23-14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="neuralcoref的安装与使用"/></a><div class="content"><a class="title" href="/2023/12/03/neuralcoref-de-an-zhuang-yu-shi-yong/" title="neuralcoref的安装与使用">neuralcoref的安装与使用</a><time datetime="2023-12-03T08:01:20.000Z" title="发表于 2023-12-03 16:01:20">2023-12-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/10/bo-ke-you-hua-er/" title="博客优化二"><img src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/Snipaste_2023-11-10_10-22-16.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="博客优化二"/></a><div class="content"><a class="title" href="/2023/11/10/bo-ke-you-hua-er/" title="博客优化二">博客优化二</a><time datetime="2023-11-10T02:19:16.000Z" title="发表于 2023-11-10 10:19:16">2023-11-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/06/tu-yu-tu-xue-xi/" title="图与图学习"><img src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/fengmian4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="图与图学习"/></a><div class="content"><a class="title" href="/2023/11/06/tu-yu-tu-xue-xi/" title="图与图学习">图与图学习</a><time datetime="2023-11-06T14:37:54.000Z" title="发表于 2023-11-06 22:37:54">2023-11-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/31/paddlepaddle-shang-shou/" title="PaddlePaddle上手"><img src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/Snipaste_2023-10-07_15-20-15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PaddlePaddle上手"/></a><div class="content"><a class="title" href="/2023/10/31/paddlepaddle-shang-shou/" title="PaddlePaddle上手">PaddlePaddle上手</a><time datetime="2023-10-31T12:36:14.000Z" title="发表于 2023-10-31 20:36:14">2023-10-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/26/tu-shen-jing-wang-luo-coding/" title="图神经网络coding"><img src="https://zyydgrbk.oss-cn-chengdu.aliyuncs.com/images/Snipaste_2023-10-07_15-20-31.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="图神经网络coding"/></a><div class="content"><a class="title" href="/2023/10/26/tu-shen-jing-wang-luo-coding/" title="图神经网络coding">图神经网络coding</a><time datetime="2023-10-26T02:31:50.000Z" title="发表于 2023-10-26 10:31:50">2023-10-26</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2023 By 邹阳</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, this is zy's blog, welcome!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://npm.elemecdn.com/vue@2.6.11"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>var gitcalendar = new Vue({
  el: '#gitcalendar',
  data: {
    simplemode: true, 
    user: 'YangZouy',
    fixed: 'fixed',
    px: 'px',
    x: '',
    y: '',
    span1: '',
    span2: '',
    month: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
    monthchange: [],
    oneyearbeforeday: '',
    thisday: '',
    amonthago: '',
    aweekago: '',
    //- 最近一周数据
    weekdatacore: 0,
    datacore: 0,
    total: 0,
    datadate: '',
    data: [],
    positionplusdata: [],
    firstweek: [],
    lastweek: [],
    beforeweek: [],
    //- 最近一月数据
    thisweekdatacore: 0,
    mounthbeforeday: 0,
    mounthfirstindex: 0,
    crispedges: 'crispedges',
    thisdayindex: 0,
    amonthagoindex: 0,
    amonthagoweek: [],
    firstdate: [],
    first2date: [],
    montharrbefore: [],
    monthindex: 0,
    color: ['#f7f0f7', '#f5e1e8', '#f2c9d5', '#ebaec2', '#d689a3', '#de8ea9', '#cf5b81', '#c44771', '#bf3462', '#ab204f', '#ab0f43']
  },
  methods: {
    selectStyle(data, event) {
      document.querySelector('.angle-wrapper').style.display = 'block'
      this.span1 = data.date;
      //- this.span2 = data.count;
      this.span2 = data.intensity;
      this.x = event.clientX - 100;
      this.y = event.clientY - 60
    },
    outStyle() {
      document.querySelector('.angle-wrapper').style.display = 'none'
    },
    thiscolor(x) {
      if (x === 0) {
        let i = parseInt(x / 2);
        return this.color[0]
      } else if (x < 2) {
        return this.color[1]
      } else if (x < 20) {
        let i = parseInt(x / 2);
        return this.color[i]
      } else {
        return this.color[9]
      }
    },
  }
});
var apiurl = '' ? 'https:///api?' : 'https://githubapi.ryanchristian.dev/user/'
var githubapiurl = apiurl + gitcalendar.user;
//canvas绘图
function responsiveChart() {
  let c = document.getElementById("gitcanvas");
  if (c) {
    let cmessage = document.getElementById("gitmessage");
    let ctx = c.getContext("2d");
    c.width = document.getElementById("gitcalendarcanvasbox").offsetWidth;
    let linemaxwitdh = 0.96 * c.width / gitcalendar.data.length;
    c.height = 9 * linemaxwitdh;
    let lineminwitdh = 0.8 * linemaxwitdh;
    let setposition = {
      x: 0.02 * c.width,
      y: 0.025 * c.width
    };
    for (let week in gitcalendar.data) {
      weekdata = gitcalendar.data[week];
      for (let day in weekdata) {
        let dataitem = {
          date: "",
          //- count: "",
          intensity: "",
          x: 0,
          y: 0
        };
        gitcalendar.positionplusdata.push(dataitem);
        //- ctx.fillStyle = gitcalendar.thiscolor(weekdata[day].count);
        ctx.fillStyle = gitcalendar.thiscolor(weekdata[day].intensity);
        setposition.y = Math.round(setposition.y * 100) / 100;
        dataitem.date = weekdata[day].date;
        //- dataitem.count = weekdata[day].count;
        dataitem.intensity = weekdata[day].intensity;
        dataitem.x = setposition.x;
        dataitem.y = setposition.y;
        ctx.fillRect(setposition.x, setposition.y, lineminwitdh, lineminwitdh);
        setposition.y = setposition.y + linemaxwitdh
      };
      setposition.y = 0.025 * c.width;
      setposition.x = setposition.x + linemaxwitdh
    };
    ctx.font = "600  Arial";
    ctx.fillStyle = '#aaa';
    ctx.fillText("日", 0, 1.9 * linemaxwitdh);
    ctx.fillText("二", 0, 3.9 * linemaxwitdh);
    ctx.fillText("四", 0, 5.9 * linemaxwitdh);
    ctx.fillText("六", 0, 7.9 * linemaxwitdh);
    let monthindexlist = c.width / 24;
    for (let index in gitcalendar.monthchange) {
      ctx.fillText(gitcalendar.monthchange[index], monthindexlist, 0.7 * linemaxwitdh);
      monthindexlist = monthindexlist + c.width / 12
    };
    cmessage.onmousemove = function(event) {
      document.querySelector('.angle-wrapper').style.display = 'none'
    };
    c.onmousemove = function(event) {
      document.querySelector('.angle-wrapper').style.display = 'none'
      getMousePos(c, event);
    };

    function getMousePos(canvas, event) {
      var rect = canvas.getBoundingClientRect();
      var x = event.clientX - rect.left * (canvas.width / rect.width);
      var y = event.clientY - rect.top * (canvas.height / rect.height);
      //console.log("x:"+x+",y:"+y);
      for (let item of gitcalendar.positionplusdata) {
        let lenthx = x - item.x;
        let lenthy = y - item.y;
        //console.log(lenthx,lenthy);
        if (0 < lenthx && lenthx < lineminwitdh) {
          if (0 < lenthy && lenthy < lineminwitdh) {
            //console.log(item.date,item.count)
            document.querySelector('.angle-wrapper').style.display = 'block'
            gitcalendar.span1 = item.date;
            //- gitcalendar.span2 = item.count;
            gitcalendar.span2 = item.intensity;
            gitcalendar.x = event.clientX - 100;
            gitcalendar.y = event.clientY - 60
          }
        }
        //if(0< x - item.x <lineminwitdh&&0< y - item.y <lineminwitdh){
        //console.log(item.count,item.date);
        //}
      }
    }
  }
}
//数据统计算法
function addlastmonth() {
  if (gitcalendar.thisdayindex === 0) {
    thisweekcore(52);
    thisweekcore(51);
    thisweekcore(50);
    thisweekcore(49);
    thisweekcore(48);
  
    gitcalendar.thisweekdatacore += parseInt(gitcalendar.firstdate[6].intensity);
    gitcalendar.amonthago = gitcalendar.firstdate[6].date
  } else {
    thisweekcore(52);
    thisweekcore(51);
    thisweekcore(50);
    thisweekcore(49);
    thisweek2core();
    gitcalendar.amonthago = gitcalendar.first2date[gitcalendar.thisdayindex - 1].date
  }
};

function thisweek2core() {
  for (let i = gitcalendar.thisdayindex - 1; i < gitcalendar.first2date.length; i++) {
  
    gitcalendar.thisweekdatacore += parseInt(gitcalendar.first2date[i].intensity)
  }
};

function thisweekcore(index) {
  for (let item of gitcalendar.data[index]) {
    gitcalendar.thisweekdatacore += parseInt(item.intensity)
  }
};

function addlastweek() {
  for (let item of gitcalendar.lastweek) {
    gitcalendar.weekdatacore += parseInt(item.intensity)
  }
};

function addbeforeweek() {
  for (let i = gitcalendar.thisdayindex; i < gitcalendar.beforeweek.length; i++) {
    gitcalendar.weekdatacore += parseInt(gitcalendar.beforeweek[i].intensity)
  }
};

function addweek(data) {
  if (gitcalendar.thisdayindex === 6) {
    gitcalendar.aweekago = gitcalendar.lastweek[0].date;
    addlastweek()
  } else {
    lastweek = data.contributions[51];
    gitcalendar.aweekago = lastweek[gitcalendar.thisdayindex + 1].date;
    addlastweek();
    addbeforeweek()
  }
}

fetch(githubapiurl)
  .then(data => data.json())
  .then(data => {
    gitcalendar.data = data.contributions;
    gitcalendar.total = data.total;
    gitcalendar.first2date = gitcalendar.data[48];
    gitcalendar.firstdate = gitcalendar.data[47];
    gitcalendar.firstweek = data.contributions[0];
    gitcalendar.lastweek = data.contributions[52];
    gitcalendar.beforeweek = data.contributions[51];
    gitcalendar.thisdayindex = gitcalendar.lastweek.length - 1;
    gitcalendar.thisday = gitcalendar.lastweek[gitcalendar.thisdayindex].date;
    gitcalendar.oneyearbeforeday = gitcalendar.firstweek[0].date;
    gitcalendar.monthindex = gitcalendar.thisday.substring(5, 7) * 1;
    gitcalendar.montharrbefore = gitcalendar.month.splice(gitcalendar.monthindex, 12 - gitcalendar.monthindex);
    gitcalendar.monthchange = gitcalendar.montharrbefore.concat(gitcalendar.month);
    addweek(data);
    addlastmonth();
    responsiveChart();
  })
  .catch(function(error) {
    console.log(error);
  });

//手机版更换为svg绘制
if (document.getElementById("gitcalendarcanvasbox").offsetWidth < 500) {
  gitcalendar.simplemode = false
}

//当改变窗口大小时重新绘制canvas
window.onresize = function() {
  if (gitcalendar.simplemode) responsiveChart()
}

//解决滚动滑轮时出现的标签显示
window.onscroll = function() {
  if (document.querySelector('.angle-wrapper')) {
    document.querySelector('.angle-wrapper').style.display = 'none'
  }
};</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>